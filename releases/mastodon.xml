<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Mastodon Releases</title>
  <updated>2025-08-01T00:31:19.526330-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.4.0</id>
    <title>New release for Mastodon: v4.4.0</title>
    <updated>2025-07-08T10:13:37-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;p&gt;For a user-focused highlight of these changes, see https://blog.joinmastodon.org/2025/07/mastodon-4.4/
For changes of particular interest to application developers, see https://blog.joinmastodon.org/2025/07/mastodon-4-4-for-devs/
For a more detailed run-down on the changes, see the Changelog section below!&lt;/p&gt;
&lt;h2&gt;Upgrade overview&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
A &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.4.1"&gt;hotfix release&lt;/a&gt; is available for this branch, please update directly to it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This release contains upgrade notes that deviate from the norm:&lt;/p&gt;
&lt;p&gt;:warning: The minimum supported version for Redis has been bumped to 6.2\
:warning: The minimum supported version for PostgreSQL has been bumped to 13\
:warning: The minimum supported version for Ruby has been bumped to 3.2\
:warning: The minimum supported version for Node.js has been bumped to 20\
:warning: Support for Redis namespaces has been dropped\
:warning: Requires updating the metadata for the Elasticsearch accounts index\
:warning: Rolling updates from versions earlier than Mastodon 4.3 are not supported\
:warning: Import jobs from Mastodon versions earlier than Mastodon 4.2 are not supported\
:warning: ImageMagick is being deprecated and may be removed in a future version\
ℹ️ The new experimental Fediverse Auxiliary Service Providers feature requires a new &lt;code&gt;fasp&lt;/code&gt; sidekiq queue\
ℹ️ Requires streaming server restart\
ℹ️ Requires database migrations&lt;/p&gt;
&lt;p&gt;For more information, view the complete release notes and scroll down to the upgrade instructions section.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Add “Followers you know” widget to user profiles and hover cards&lt;/strong&gt; (#34652, #34678, #34681, #34697, #34699, #34769, #34774 and #34914 by @diondiondion)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add featured tab to profiles on web UI and rework pinned posts&lt;/strong&gt; (#34405, #34483, #34491, #34754, #34855, #34858, #34868, #34869, #34927, #34995, #35056 and #34931 by @ChaosExAnima, @ClearlyClaire, @Gargron, and @diondiondion)&lt;/li&gt;
&lt;li&gt;Add endorsed accounts to featured tab in web UI (#34421 and #34568 by @Gargron)\
  This also includes the following new REST API endpoints:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GET /api/v1/accounts/:id/endorsements&lt;/code&gt;: https://docs.joinmastodon.org/methods/accounts/#endorsements&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST /api/v1/accounts/:id/endorse&lt;/code&gt;: https://docs.joinmastodon.org/methods/accounts/#endorse&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST /api/v1/accounts/:id/unendorse&lt;/code&gt;: https://docs.joinmastodon.org/methods/accounts/#unendorse&lt;/li&gt;
&lt;li&gt;Add ability to add and remove hashtags from featured tags in web UI (#34489, #34887, and #34490 by @ClearlyClaire and @Gargron)\
  This is achieved through the new REST API endpoints:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST /api/v1/tags/:id/feature&lt;/code&gt;: https://docs.joinmastodon.org/methods/tags/#feature&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST /api/v1/tags/:id/unfeature&lt;/code&gt;: https://docs.joinmastodon.org/methods/tags/#unfeature&lt;/li&gt;
&lt;li&gt;Add reminder when about to post without alt text in web UI (#33760 and #33784 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add a warning in Web UI when composing a post when the selected and detected language are different (#33042, #33683, #33700, #33724, #33770, and #34193 by @ClearlyClaire and @Gargron)&lt;/li&gt;
&lt;li&gt;Add support for verifying and displaying remote quote posts (#34370, #34481, #34510, #34551, #34480, #34479, #34553, #34584, #34623, #34738, #34766, #34770, #34772, #34773, #34786, #34790, #34864, #34957, #34961, #35016, #35022, #35036, #34946, #34945 and #34958 by @ClearlyClaire and @diondiondion)\
  Support for verifying remote quotes according to &lt;a href="https://codeberg.org/fediverse/fep/src/branch/main/fep/044f/fep-044f.md"&gt;FEP-044f&lt;/a&gt; and displaying them in the Web UI has been implemented.\
  Quoting other people is not implemented yet, and it is currently not possible to mark your own posts as allowing quotes. However, a new “Who can quote” setting has been added to the “Posting defaults” section of the user settings. This setting allows you to set a default that will be used for new posts made on Mastodon 4.5 and newer, when quote posts will be fully implemented.\
  In the REST API, quote posts are represented by a new &lt;code&gt;quote&lt;/code&gt; attribute on &lt;code&gt;Status&lt;/code&gt; and &lt;code&gt;StatusEdit&lt;/code&gt; entities: https://docs.joinmastodon.org/entities/StatusEdit/#quote https://docs.joinmastodon.org/entities/Status/#quote&lt;/li&gt;
&lt;li&gt;Add ability to reorder and translate server rules (#34637, #34737, #34494, #34756, #34820, #34997, #35170, #35174 and #35174 by @ChaosExAnima and @ClearlyClaire)\
  Rules are now shown in the user’s language, if a translation has been set.\
  In the REST API, &lt;code&gt;Rule&lt;/code&gt; entities now have a new &lt;code&gt;translations&lt;/code&gt; attribute: https://docs.joinmastodon.org/entities/Rule/#translations&lt;/li&gt;
&lt;li&gt;Add emoji from Twemoji 15.1.0, including in the emoji picker/completion (#33395, #34321, #34620, and #34677 by @ChaosExAnima, @ClearlyClaire, @TheEssem, and @eramdam)&lt;/li&gt;
&lt;li&gt;Add option to remove account from followers in web UI (#34488 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add relationship tags to profiles and hover cards in web UI (#34467 and #34792 by @Gargron and @diondiondion)&lt;/li&gt;
&lt;li&gt;Add ability to open posts in a new tab by middle-clicking in web UI (#32988, #33106, #33419, and #34700 by @ClearlyClaire, @Gargron, and @tribela)&lt;/li&gt;
&lt;li&gt;Add new filter action to blur media (#34256 by @ClearlyClaire)\
  In the REST API, this adds a new possible value of &lt;code&gt;blur&lt;/code&gt; to the &lt;code&gt;filter_action&lt;/code&gt; attribute: https://docs.joinmastodon.org/entities/Filter/#filter_action&lt;/li&gt;
&lt;li&gt;Add dropdown menu to hashtag links in web UI (#34393 by @Gargron)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add server setting to allow referrer&lt;/strong&gt; (#33214, #33239, #33903, and #34731 by @ChaosExAnima, @ClearlyClaire, @Gargron, and @renchap)\
  In order to protect the privacy of users of small or thematic servers, Mastodon previously avoided transmitting referrer information when clicking outside links, which unfortunately made Mastodon completely invisible to other websites, even though the privacy implications on large generic servers are very limited.\
  Server administrators can now chose to opt in to transmit referrer information when following an external link. Only the domain name is transmitted, not the referrer path.&lt;/li&gt;
&lt;li&gt;Add double tap to zoom and swipe to dismiss to media modal in web UI (#34210 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add link from Web UI for Hashtags to the Moderation UI (#31448 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add terms of service&lt;/strong&gt; (#33055, #33233, #33230, #33703, #33699, #33994, #33993, #34105, #34122, #34200, #34527, #35053, #35115, #35126, #35127 and #35233 by @ClearlyClaire, @Gargron, @mjankowski, and @oneiros)\
  Server administrators can now fill in Terms of Service and notify their users of upcoming changes.&lt;/li&gt;
&lt;li&gt;Add optional bulk mailer settings (#35191 and #35203 by @oneiros)\
  This adds the optional environment variables &lt;code&gt;BULK_SMTP_PORT&lt;/code&gt;, &lt;code&gt;BULK_SMTP_SERVER&lt;/code&gt;, &lt;code&gt;BULK_SMTP_LOGIN&lt;/code&gt; and so on analogous to &lt;code&gt;SMTP_PORT&lt;/code&gt;, &lt;code&gt;SMTP_SERVER&lt;/code&gt;, &lt;code&gt;SMTP_LOGIN&lt;/code&gt; and related SMTP configuration environment variables.\
  When &lt;code&gt;BULK_SMTP_SERVER&lt;/code&gt; is set, this group of variables is used instead of the regular ones for sending announcement notification emails and Terms of Service notification emails.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add age verification on sign-up&lt;/strong&gt; (#34150, #34663, and #34636 by @ClearlyClaire and @Gargron)\
  Server administrators now have a setting to set a minimum age requirement for creating a new server, asking users for their date of birth. The date of birth is checked against the minimum age requirement server-side but not stored.\
  The following REST API changes have been made to accommodate this:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;registrations.min_age&lt;/code&gt; has been added to the &lt;code&gt;Instance&lt;/code&gt; entity: https://docs.joinmastodon.org/entities/Instance/#registrations-min_age&lt;/li&gt;
&lt;li&gt;the &lt;code&gt;date_of_birth&lt;/code&gt; parameter has been added to the account creation API: https://docs.joinmastodon.org/methods/accounts/#create&lt;/li&gt;
&lt;li&gt;Add ability to dismiss alt text badge by tapping it in web UI (#33737 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add loading indicator to timeline gap indicators in web UI (#33762 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add interaction modal when trying to interact with a poll while logged out (#32609 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add experimental FASP support&lt;/strong&gt; (#34031, #34415, #34765, #34965, #34964, #34033, #35218, #35262 and #35263 by @oneiros)\
  This is a first step towards supporting “Fediverse Auxiliary Service Providers” (https://github.com/mastodon/fediverse_auxiliary_service_provider_specifications). This is mostly interesting to developers who would like to implement their own FASP, but also includes the capability to share data with a discovery provider (see https://www.fediscovery.org).&lt;/li&gt;
&lt;li&gt;Add ability for admins to send announcements to all users via email (#33928 and #34411 by @ClearlyClaire)\
  This is meant for critical announcements only, as this will potentially send a lot of emails and cannot be opted out of by users.&lt;/li&gt;
&lt;li&gt;Add Server Moderation Notes (#31529 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Add loading spinner to “Post” button when sending a post (#35153 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Add option to use system scrollbar styling (#32117 by @vmstan)&lt;/li&gt;
&lt;li&gt;Add hover cards to follow suggestions (#33749 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;t&lt;/code&gt; hotkey for post translations (#33441 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add timestamp to all announcements in Web UI (#18329 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add dropdown menu with quick actions to lists of accounts in web UI (#34391, #34709, and #34767 by @Gargron, @diondiondion, and @mkljczk)&lt;/li&gt;
&lt;li&gt;Add support for displaying “year in review” notification in web UI (#32710, #32765, #32709, #32807, #32914, #33148, and #33882 by @Gargron and @mjankowski)\
  Note that the notification is currently not generated automatically, and at the moment requires a manual undocumented administrator action.&lt;/li&gt;
&lt;li&gt;Add experimental support for receiving HTTP Message Signatures (RFC9421) (#34814, #35033, #35109 and #35278 by @oneiros)\
  For now, this needs to be explicitly enabled through the &lt;code&gt;http_message_signatures&lt;/code&gt; feature flag (&lt;code&gt;EXPERIMENTAL_FEATURES=http_message_signatures&lt;/code&gt;). This currently only covers verifying such signatures (inbound HTTP requests), not issuing them (outbound HTTP requests).&lt;/li&gt;
&lt;li&gt;Add experimental Async Refreshes API (#34918 by @oneiros)&lt;/li&gt;
&lt;li&gt;Add experimental server-side feature to fetch remote replies (#32615, #34147, #34149, #34151, #34615, #34682, and #34702 by @ClearlyClaire and @sneakers-the-rat)\
  This experimental feature causes the server to recursively fetch replies in background tasks whenever a user opens a remote post. This happens asynchronously and the client is currently not notified of the existence of new replies, which will thus only be displayed the next time this post’s context gets requested.\
  This feature needs to be explicitly enabled server-side by setting &lt;code&gt;FETCH_REPLIES_ENABLED&lt;/code&gt; environment variable to &lt;code&gt;true&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Add simple feature flag system through the &lt;code&gt;EXPERIMENTAL_FEATURES&lt;/code&gt; environment variable (#34038 and #34124 by @oneiros)\
  This allows enabling comma-separated feature flags for experimental features.\
  The current supported feature flags are &lt;code&gt;inbound_quotes&lt;/code&gt;, &lt;code&gt;fasp&lt;/code&gt; and &lt;code&gt;http_message_signatures&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;dev:populate_sample_data&lt;/code&gt; rake task to populate test data (#34676, #34733, #34771, #34787, and #34791 by @ClearlyClaire and @diondiondion)&lt;/li&gt;
&lt;li&gt;Add support for displaying fallback representation when receiving MathML (#27107 by @4e554c4c)&lt;/li&gt;
&lt;li&gt;Add warning for Elasticsearch index analyzers mismatch (#34515 and #34567 by @ClearlyClaire and @Gargron)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;-only-mapping&lt;/code&gt; option to &lt;code&gt;tootctl search deploy&lt;/code&gt; (#34466 and #34566 by @Gargron)&lt;/li&gt;
&lt;li&gt;Add server-side support for grouping account sign-up notifications (#34298 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;registrations.reason_required&lt;/code&gt; attribute to &lt;code&gt;/api/v2/instance&lt;/code&gt; response (#34280 by @ClearlyClaire)\
  This is documented at https://docs.joinmastodon.org/entities/Instance/#registrations-reason_required&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;EXTRA_MEDIA_HOSTS&lt;/code&gt; environment variable to add extra hosts to Content-Security-Policy (#34184 by @shleeable)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;Deprecation&lt;/code&gt; headers on deprecated API endpoints (#34262 and #34397 by @ClearlyClaire)\
  This is documented at https://docs.joinmastodon.org/api/guidelines/#deprecations&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;about&lt;/code&gt;, &lt;code&gt;privacy_policy&lt;/code&gt; and &lt;code&gt;terms_of_service&lt;/code&gt; URLs to &lt;code&gt;/api/v2/instance&lt;/code&gt; (#33849 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add API to delete media attachments that are not in use (#33991 and #34035 by @ClearlyClaire and @ThisIsMissEm)\
  &lt;code&gt;DELETE /api/v1/media/:id&lt;/code&gt;: https://docs.joinmastodon.org/methods/media/#delete&lt;/li&gt;
&lt;li&gt;Add optional &lt;code&gt;delete_media&lt;/code&gt; parameter to &lt;code&gt;DELETE /api/v1/statuses/:id&lt;/code&gt; (#33988 by @ClearlyClaire)\
  This is documented at https://docs.joinmastodon.org/methods/statuses/#delete&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;og:locale&lt;/code&gt; to expose status language in OpenGraph previews (#34012 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;-skip-filled-timeline&lt;/code&gt; option to &lt;code&gt;tootctl feed build&lt;/code&gt; to skip half-filled feeds (#33844 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add support for changing the base Docker registry with the &lt;code&gt;BASE_REGISTRY&lt;/code&gt; &lt;code&gt;ARG&lt;/code&gt; (#33712 by @wolfspyre)&lt;/li&gt;
&lt;li&gt;Add an optional metric exporter (#33734, #33840, #34172, #34192, #34223, and #35005 by @oneiros and @renchap)\
  Optionally enable the &lt;code&gt;prometheus_exporter&lt;/code&gt; ruby gem (see https://github.com/discourse/prometheus_exporter) to collect and expose metrics. See the documentation for all the details: https://docs.joinmastodon.org/admin/config/#prometheus&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;attribution_domains&lt;/code&gt; attribute to &lt;code&gt;PATCH /api/v1/accounts/update_credentials&lt;/code&gt; (#32730 by @c960657)\
  This is documented at https://docs.joinmastodon.org/methods/accounts/#update_credentials&lt;/li&gt;
&lt;li&gt;Add support for standard WebPush in addition to previous draft (#33572, #33528, and #33587 by @ClearlyClaire and @p1gp1g)&lt;/li&gt;
&lt;li&gt;Add support for Active Record query log tags (#33342 by @renchap)&lt;/li&gt;
&lt;li&gt;Add OTel trace &amp;amp; span IDs to logs (#33339 and #33362 by @renchap)&lt;/li&gt;
&lt;li&gt;Add missing &lt;code&gt;on_delete: :cascade&lt;/code&gt; foreign keys option to various database columns (#33175 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Add explicit migration breakpoints (#33089 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Add rel alternate rss/json links to pages for tags (#33179 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Add media attachment description limit to instance API response (#33153 by @mjankowski)\
  This adds the &lt;code&gt;configuration.media_attachments.description_limit&lt;/code&gt; attribute to the &lt;code&gt;Instance&lt;/code&gt; entity, documented at https://docs.joinmastodon.org/entities/Instance/#description_limit&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;maxlength&lt;/code&gt; to registration reason input (#33162 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;REPLICA_PREPARED_STATEMENTS&lt;/code&gt; and &lt;code&gt;REPLICA_DB_TASKS&lt;/code&gt; environment variables (#32908 by @shleeable)\
  See documentation at https://docs.joinmastodon.org/admin/scaling/#read-replicas&lt;/li&gt;
&lt;li&gt;Add a range of reserved usernames to reduce potential misuse by malicious actors (#32828 by @jmking-iftas)&lt;/li&gt;
&lt;li&gt;Add operations on relays to the admin audit log (#32819 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Add userinfo OAuth endpoint (#32548 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Add the standard VCS attributes to OpenTelemetry spans (#32904 by @renchap)&lt;/li&gt;
&lt;li&gt;Add endpoint to remove web push subscription (#32626 by @oneiros)\
  Mastodon now sets a new &lt;code&gt;Unsubscribe-URL&lt;/code&gt; request header when performing WebPush requests. This URL can be used by the WebPush server to disable the WebPush subscription on Mastodon’s side in case of unfixable errors.&lt;/li&gt;
&lt;li&gt;Add missing content warning text to RSS feeds (#32406 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Add Swiss German to languages dropdown (#29281 by @FlohEinstein)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change design of navigation panel in Web UI, change layout on narrow screens (#34910, #34987, #35017, #34986, #35029, #35065, #35067, #35072, #35074, #35075, #35101, #35173, #35183, #35193 and #35225 by @ClearlyClaire, @Gargron, and @diondiondion)&lt;/li&gt;
&lt;li&gt;Change design of lists in web UI (#32881, #33054, and #33036 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change design of edit media modal in web UI (#33516, #33702, #33725, #33725, #33771, and #34345 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change design of audio player in web UI (#34520, #34740, #34865, #34929, #34933, and #35034 by @ClearlyClaire, @Gargron, and @diondiondion)&lt;/li&gt;
&lt;li&gt;Change design of interaction modal in web UI (#33278 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change list timelines to reflect added and removed users retroactively (#32930 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change account search to be more forgiving of spaces (#34455 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change unfollow button label from “Mutual” to “Unfollow” in web UI (#34392 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change “Specific people” to “Private mention” in menu in web UI (#33963 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change "Explore" to "Trending" and remove explanation banners (#34985 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change media attachments of moderated posts to not be accessible (#34872 by @Gargron)
  Moderators will still be able to access them while they are kept, but they won't be accessible to the public in the meantime.&lt;/li&gt;
&lt;li&gt;Change language names in compose box language picker to be localized (#33402 by @c960657)&lt;/li&gt;
&lt;li&gt;Change onboarding flow in web UI (#32998, #33119, #33471 and #34962 by @ClearlyClaire and @Gargron)&lt;/li&gt;
&lt;li&gt;Change Advanced Web UI to use the new main menu instead of the “Getting started” column (#35117 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Change emoji categories in admin interface to be ordered by name (#33630 by @ShadowJonathan)&lt;/li&gt;
&lt;li&gt;Change design of rich text elements in web UI (#32633 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change wording of “single choice” to “pick one” in poll authoring form (#32397 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Change returned favorite and boost counts to use those provided by the remote server, if available (#32620, #34594, #34618, and #34619 by @ClearlyClaire and @sneakers-the-rat)&lt;/li&gt;
&lt;li&gt;Change label of favourite notifications on private mentions (#31659 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change wording of "discard draft?" confirmation dialogs (#35192 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;libvips&lt;/code&gt; to be enabled by default in place of ImageMagick (#34741 and #34753 by @ClearlyClaire and @diondiondion)&lt;/li&gt;
&lt;li&gt;Change avatar and header size limits from 2MB to 8MB when using libvips (#33002 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change search to use query params in web UI (#32949 and #33670 by @ClearlyClaire and @Gargron)&lt;/li&gt;
&lt;li&gt;Change build system from Webpack to Vite (#34454, #34450, #34758, #34768, #34813, #34808, #34837, #34732, #35007, #35035 and #35177 by @ChaosExAnima, @ClearlyClaire, @mjankowski, and @renchap)&lt;/li&gt;
&lt;li&gt;Change account creation API to forbid creation from user tokens (#34828 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;/api/v2/instance&lt;/code&gt; to be enabled without authentication when limited federation mode is enabled (#34576 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;DEFAULT_LOCALE&lt;/code&gt; to not override unauthenticated users’ browser language (#34535 by @ClearlyClaire)\
  If you want to preserve the old behavior, you can add &lt;code&gt;FORCE_DEFAULT_LOCALE=true&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Change size of profile picture on profile page from 90px to 92px (#34807 by @larouxn)&lt;/li&gt;
&lt;li&gt;Change passthrough video processing to emit &lt;code&gt;moov&lt;/code&gt; atom at start of video (#34726 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change kerning to be disabled for Japanese text to preserve monospaced alignment for readability (#34448 by @nagutabby)&lt;/li&gt;
&lt;li&gt;Change error handling of various endpoints to return 422 instead of 500 on invalid parameters (#29308, #34434, and #34452 by @danielmbrasil and @mjankowski)&lt;/li&gt;
&lt;li&gt;Change Web UI to use &lt;code&gt;&amp;lt;time&amp;gt;&lt;/code&gt; tags for various timestamps (#34131 by @scarf005)&lt;/li&gt;
&lt;li&gt;Change devcontainer to be accessible from local network (#34269 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Change video transcoding code to skip re-encoding yuvj420p videos (#34098 by @rinsuki)&lt;/li&gt;
&lt;li&gt;Change web client settings to be saved earlier and more often (#34074 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change test coverage report generation to be disabled by default, with opt-in through the &lt;code&gt;COVERAGE&lt;/code&gt; environment variable (#33824 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Change devcontainer to store bootsnap cache outside of bind mounts (#33677 by @c960657)&lt;/li&gt;
&lt;li&gt;Change error handling in the &lt;code&gt;mastodon:setup&lt;/code&gt; rake task to summarize encountered errors at the end (#33603 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Change tooltip of some moderation interface timestamps to include time in addition to date (#33191 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Change organization and wording of &lt;code&gt;README.md&lt;/code&gt;, &lt;code&gt;CONTRIBUTING.md&lt;/code&gt; and &lt;code&gt;DEVELOPMENT.md&lt;/code&gt; (#32143, #33328, #33517, #33637, #33728, #34675, and #34761 by @Lamparter, @andypiper, @diondiondion, @larouxn, @mikkelricky, and @mjankowski)&lt;/li&gt;
&lt;li&gt;Change custom CSS to be cached for longer and invalidated based on its contents (#33207 and #33583 by @mjankowski and @tribela)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;tootctl maintenance fix-duplicates&lt;/code&gt; to disable database statement timeouts (#33484 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Change some icons in settings sidebar to avoid “double icon” near each other (#33449 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Change animation on feed generation screen in web UI (#33311 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change OTel instrumentation to not start traces with Redis spans (#33090 by @robbkidd)&lt;/li&gt;
&lt;li&gt;Change new post delivery to skip suspended followers (#27509 and #33030 by @ClearlyClaire and @oneiros)&lt;/li&gt;
&lt;li&gt;Change URL truncation to account for ellipses (#33229 by @FND)&lt;/li&gt;
&lt;li&gt;Change ability to navigate of unconfirmed users (#33209 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change hashtag trends to be stored in the database instead of redis (#32837, #33189, and #34016 by @Gargron and @onekopaka)&lt;/li&gt;
&lt;li&gt;Change “social web” to “fediverse” in a few banners in web UI (#33101 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change server rules to be collapsible (#33039 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change design of modal loading and error screens in web UI (#33092 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change error messages to be more accurate when failing to add an account to a list (#33082 by @Gargron)&lt;/li&gt;
&lt;li&gt;Change timezone picker in the default settings to show the default timezone (#31803 by @c960657)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;tootctl accounts modify --disable-2fa&lt;/code&gt; to remove webauthn credentials (#29883 by @mszpro)&lt;/li&gt;
&lt;li&gt;Change preview card processing to be more liberal in what it accepts (#31357 by @c960657)&lt;/li&gt;
&lt;li&gt;Change scheduled statuses to be discarded if the author’s account is frozen (#30729 by @PauloVilarinho)&lt;/li&gt;
&lt;li&gt;Change display of statuses in admin panel (#30813 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Change parsing of &lt;code&gt;ALLOWED_PRIVATE_ADDRESSES&lt;/code&gt; to happen at startup (#32850 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change WebPush delivery to skip notifications older than 2 days old (#32842 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Change PWA manifest to prefer official mobile apps (#27254 by @jake-anto)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Remove support for Redis namespaces&lt;/strong&gt; (#34664 and #34665 by @ClearlyClaire)\
  See https://github.com/mastodon/redis_namespace_migration&lt;/li&gt;
&lt;li&gt;Remove support for imports started on pre-4.2.0 Mastodon versions (#34371 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Remove support for PostgreSQL 12 and earlier (#34744 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Remove support for Node.JS &amp;lt; 20 (#34390 by @renchap)&lt;/li&gt;
&lt;li&gt;Remove support for Redis &amp;lt; 6.2 (#30413 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Remove support for Ruby 3.1 (#32363 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Remove support for OAuth Password Grant Type (#30960 by @ThisIsMissEm)\
  https://docs.joinmastodon.org/spec/oauth/#token&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;OTP_SECRET&lt;/code&gt; environment variable and legacy OTP code (#34743, #34757, #34748, and #34810 by @ClearlyClaire and @mjankowski)\
  This breaks zero-downtime migrations from versions earlier than 4.3.0.&lt;/li&gt;
&lt;li&gt;Remove broken support for HTTP Basic Authentication (#34501 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Remove system tooltip for alt text in web UI (#33736 by @Gargron)&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;thing_type&lt;/code&gt; and &lt;code&gt;thing_id&lt;/code&gt; columns from settings table (#31971 and #33196 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Remove redundant temporary index creation in &lt;code&gt;tootctl status remove&lt;/code&gt; (#33023 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Remove duplicate indexes from database (#32454 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Remove redundant title attribute in column links (#32258 by @c960657)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix remote suspension of a user causing local instance to remove remote follows (#27588 by @ShadowJonathan)&lt;/li&gt;
&lt;li&gt;Fix blocked accounts not being automatically removed from trending statuses (#34891 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix nested buttons in search popout in web UI (#34871 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix not being able to scroll dropdown on touch devices in web UI (#34873 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix inconsistent filtering of silenced accounts for other silenced accounts (#34863 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix update checker listing updates older or equal to current running version (#33906 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix clicking a status multiple times causing duplicate entries in browser history (#35118 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix “Alt text” button submitting form in moderation interface (#35147 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix Firefox sometimes not updating spellcheck language in textarea (#35148 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;NoMethodError&lt;/code&gt; in edge case of emoji cache handling (#34749 by @dariusk)&lt;/li&gt;
&lt;li&gt;Fix handling of inlined &lt;code&gt;featured&lt;/code&gt; collections in ActivityPub actor objects (#34789 and #34811 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix long link names in admin sidebar being truncated (#34727 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix admin dashboard crash on specific Elasticsearch connection errors (#34683 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix OIDC account creation failing for long display names (#34639 by @defnull)&lt;/li&gt;
&lt;li&gt;Fix use of the deprecated &lt;code&gt;/api/v1/instance&lt;/code&gt; endpoint in the moderation interface (#34613 by @renchap)&lt;/li&gt;
&lt;li&gt;Fix inaccessible “Clear search” button (#35152 and #35281 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix search operators sometimes getting lost (#35190 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix directory scroll position reset (#34560 by @przucidlo)&lt;/li&gt;
&lt;li&gt;Fix needlessly complex SVG paths for oEmbed and logo (#34538 by @edent)&lt;/li&gt;
&lt;li&gt;Fix avatar sizing with long account name in some UI elements (#34514 by @gomasy)&lt;/li&gt;
&lt;li&gt;Fix empty menu section in status dropdown (#34431 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix the delete suggestion button not working (#34396 and #34398 by @ClearlyClaire and @renchap)&lt;/li&gt;
&lt;li&gt;Fix popover/dialog backgrounds not being blurred on older Webkit browsers (#35220 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix radio buttons not always being correctly centered (#34389 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix visual glitches with adding post filters (#34387 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix bugs with upload progress (#34325 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix being unable to hide controls in full screen video in web UI (#34308 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix extra space under left-indented vertical videos (#34313 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix glitchy iOS media attachment drag interactions (#35057 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix zoomed images being blurry in Safari (#35052 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix redundant focus stop within status component in Web UI and make focus style more noticeable (#35037, #35051, #35096, #35150 and #35251 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix digits in media player time readout not having a consistent width (#35038 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix wrong text color for “Open in advanced web interface” banner in high-contrast theme (#35032 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix hover card for limited accounts not hiding information as expected (#35024 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix some animations not respecting the reduced animation preferences (#35018 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix direction of media gallery arrows in RTL locales (#35014 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix cramped layout of follower recommendations on small viewports (#34967 and #35023 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix two composers being shown at the same time in some cases (#35006 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix handling of remote attachments with multiple media types (#34996 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix broken colors in some themed SVGs in web UI (#34988 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix wrong dimensions on blurhash previews of news articles in web UI (#34990 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix wrong styles on action bar in media modal in web UI (#34989 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix search column input not updating on param change (#34951 by @PGrayCS)&lt;/li&gt;
&lt;li&gt;Fix account note textarea being interactable before the relationship gets fetched (#34932 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix SASS deprecation notices (#34278 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix display of failed-to-load image attachments in web UI (#34217 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix duplicate REST API requests on submitting account personal note with ctrl+enter (#34213 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix unnecessary rerenders in composer dropdown menu (#34133 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix behavior of database schema loading with &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS&lt;/code&gt; (#34089 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix infinite scroll not working on profile media tab in web UI (#33860 and #34171 by @ClearlyClaire and @Gargron)&lt;/li&gt;
&lt;li&gt;Fix minor inefficiencies in domain suspension code (#33897 by @larouxn)&lt;/li&gt;
&lt;li&gt;Fix potential inefficiency in media privacy system check (#33858 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix public timeline inefficiency by adding the &lt;code&gt;language&lt;/code&gt; column to the public timelines index (#33779 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix re-encoding of high-framerate VFR videos with FFmpeg 6+ (#33634 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix error when processing invalid &lt;code&gt;Announce&lt;/code&gt; activity with missing object (#33570 by @ShadowJonathan)&lt;/li&gt;
&lt;li&gt;Fix color contrast in report modal (#33468 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix error 500 when passing an invalid &lt;code&gt;lang&lt;/code&gt; parameter (#33467 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;/share&lt;/code&gt; not using server-set characters limit (#33459 by @kescherCode)&lt;/li&gt;
&lt;li&gt;Fix audio player modal having white-on-white buttons in light theme (#33444 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix favorite &amp;amp; bookmark text toggle in timeline, status and image view (#27209 by @gunchleoc)&lt;/li&gt;
&lt;li&gt;Fix Web UI erroneously stopping to offer expanding search results after second page (#33428 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix missing value limits for &lt;code&gt;UserRole&lt;/code&gt; position (#33172 and #33349 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix clicking on a profile mention while logged out potentially leading to incorrect account (#33324 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix missing &lt;code&gt;NOT NULL&lt;/code&gt; constraints on various database columns (#33244, #33284, #33308, #33330, #33374, and #34498 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix long account username overflowing on profiles (#33286 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix Vagrant failure to sync dangling symlinks (#28101 by @filippog)&lt;/li&gt;
&lt;li&gt;Fix Chromium showing scrollbar on embedded posts (#33237 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix missing top border on Admin Hashtags UI (#31443 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Fix design of search bar on explore screen in light theme in web UI (#33224 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix various visual sign-up flow issues (#33206 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix support of bidi text in account profiles (#33088 by @mokazemi)&lt;/li&gt;
&lt;li&gt;Fix wording of the error returned when scheduling a status too soon (#33156 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;inbox_url&lt;/code&gt; presence on Relay not being validated (#32364 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix ability to include multiple copies of &lt;code&gt;embed.js&lt;/code&gt; (#33107 by @YKWeyer)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;rel="me"&lt;/code&gt; check being case-sensitive (#32238 by @c960657)&lt;/li&gt;
&lt;li&gt;Fix wrong video dimensions for some rotated videos (#33008 and #33261 by @Gargron and @tribela)&lt;/li&gt;
&lt;li&gt;Fix error when viewing statuses to deleted replies in moderation view (#32986 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix missing autofocus on boost modal (#32953 by @tribela)&lt;/li&gt;
&lt;li&gt;Fix logic in “last used at per application” OAuth token list (#32912 by @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix admin dashboard linking to pages the user does not have permission to see (#32843 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Fix backspace navigation hotkey going back two pages instead of one on some browsers (#32826 by @c960657)&lt;/li&gt;
&lt;li&gt;Fix typo in translation string (#32821 by @ThisIsMissEm)&lt;/li&gt;
&lt;li&gt;Fix list of follow requests not having a back button (#32797 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix out-of-view post contents being inconsistent with in-view post contents (#32778, #32887, and #32895 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;httplog&lt;/code&gt; gem being used in production (#32776 and #32796 by @ClearlyClaire and @oneiros)&lt;/li&gt;
&lt;li&gt;Fix use of deprecated &lt;code&gt;execCommand&lt;/code&gt; for copying text by using the &lt;code&gt;clipboard&lt;/code&gt; API (#32598 by @renchap)&lt;/li&gt;
&lt;li&gt;Fix some translation strings not being properly pluralized (#27094 by @gunchleoc)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.4.0, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.4.0&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, make sure you have backups of the database before performing any upgrades. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have changed since v4.3.0, with the Redis, Ruby, PostgreSQL and Node.js minimum versions being higher. In addition, &lt;code&gt;libvips&lt;/code&gt; is now enabled by default, requiring a new dependency if you were not already using it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.2 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 13 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 6.2 or newer&lt;/li&gt;
&lt;li&gt;Node: 20 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ImageMagick deprecation and libvips replacement&lt;/h3&gt;
&lt;p&gt;ImageMagick support in Mastodon is being deprecated in favor of libvips, a more efficient library to process image attachments.&lt;/p&gt;
&lt;p&gt;Libvips is now used in default instead of ImageMagick. This means that if you are not using the container image, and did not previously enable libvips through &lt;code&gt;MASTODON_USE_LIBVIPS=true&lt;/code&gt;, you will need to install libvips 8.13 or newer (&lt;code&gt;libvips-tools&lt;/code&gt; package on Debian and Ubuntu).&lt;/p&gt;
&lt;p&gt;If you want to keep using ImageMagick for the time being, set the &lt;code&gt;MASTODON_USE_LIBVIPS&lt;/code&gt; environment variable to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Support for ImageMagick will be dropped altogether in a future version.&lt;/p&gt;
&lt;h3&gt;Migrating from Redis namespaces&lt;/h3&gt;
&lt;p&gt;As a result of one of our dependencies dropping support for Redis namespaces, we had to drop them as well. This means if you use &lt;code&gt;REDIS_NAMESPACE&lt;/code&gt;, Mastodon will refuse to start, and you will have to perform an additional migration step.&lt;/p&gt;
&lt;p&gt;You can find migration scripts as well as more details at https://github.com/mastodon/redis_namespace_migration&lt;/p&gt;
&lt;h3&gt;Ongoing import jobs from Mastodon 4.1 and earlier&lt;/h3&gt;
&lt;p&gt;The feature to import follows, bookmarks, lists, mutes and blocks was entirely rewritten in Mastodon 4.2, leading to two different implementations co-existing in Mastodon 4.2 and 4.3 to ensure a smooth upgrade.&lt;/p&gt;
&lt;p&gt;Mastodon 4.4 removes the old implementation, so jobs started on 4.1 or earlier will not be able to proceed on Mastodon 4.4 and later. Therefore, if updating from an earlier version of Mastodon, we recommend running Mastodon 4.2 or 4.3 long enough for any pending &lt;code&gt;ImportWorker&lt;/code&gt; or &lt;code&gt;Import::RelationshipWorker&lt;/code&gt; job to finish. This should only be a matter of minutes, and should not be a concern if you are updating from Mastodon 4.2 or 4.3.&lt;/p&gt;
&lt;h3&gt;Fediverse Auxiliary Service Providers and &lt;code&gt;fasp&lt;/code&gt; Sidekiq queue&lt;/h3&gt;
&lt;p&gt;This release introduces a new experimental feature allowing the use of auxiliary service providers.&lt;/p&gt;
&lt;p&gt;This feature uses a new &lt;code&gt;fasp&lt;/code&gt; Sidekiq queue, and while it is not required if you don't use this feature, we recommend reviewing your Sidekiq configuration to make sure at least one Sidekiq process handles the &lt;code&gt;fasp&lt;/code&gt; queue.&lt;/p&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.3.9.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. If you are upgrading from a pre-4.3 version, please fully update to Mastodon 4.3 first or stop all Mastodon processes before updating, and please have a look at the “Ongoing import jobs from Mastodon 4.1 and earlier” section if you are updating from a pre-4.2 version.&lt;/p&gt;
&lt;p&gt;If you are updating from 4.4.0-beta.1 or 4.4.0-beta.2, or 4.4.0-rc.1, only a few of these steps are relevant, see the next section.&lt;/p&gt;
&lt;h3&gt;Non-Docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of gcc.
If you run into this issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;If you are using &lt;code&gt;rbenv&lt;/code&gt;, &lt;a href="https://github.com/rbenv/ruby-build/wiki#updating-ruby-build"&gt;update the list of available versions&lt;/a&gt; and install the proper Ruby version by doing &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install&lt;/code&gt; in the Mastodon install directory (e.g. &lt;code&gt;/home/mastodon/live&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --immutable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run the &lt;em&gt;pre-deployment&lt;/em&gt; database migrations by specifying the &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true&lt;/code&gt; environment variable: &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;li&gt;Run the &lt;em&gt;post-deployment&lt;/em&gt; database migrations: &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If you use Elasticsearch or OpenSearch, rebuild the account search index mappings with &lt;code&gt;RAILS_ENV=production bin/tootctl search deploy --only-mapping --only=accounts&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using Docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Run the &lt;em&gt;pre-deployment&lt;/em&gt; database migrations by specifying the &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true&lt;/code&gt; environment variable: &lt;code&gt;docker-compose run --rm -e SKIP_POST_DEPLOYMENT_MIGRATIONS=true web bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;li&gt;Run the &lt;em&gt;post-deployment&lt;/em&gt; database migrations: &lt;code&gt;docker-compose run --rm web bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If you use Elasticsearch or OpenSearch, rebuild the account search index mappings with &lt;code&gt;docker-compose run --rm web bin/tootctl search deploy --only-mapping --only=accounts&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Update steps from 4.4.0-beta.1, 4.4.0-beta.2 or 4.4.0-rc.1&lt;/h2&gt;
&lt;p&gt;The following instructions are for updating from 4.4.0-beta.1, 4.4.0-beta.2 or 4.4.0-rc.1, see the section above if you are updating from an older version.&lt;/p&gt;
&lt;h3&gt;Non-Docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of gcc.
If you run into this issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --immutable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run the &lt;em&gt;pre-deployment&lt;/em&gt; database migrations by specifying the &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true&lt;/code&gt; environment variable: &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using Docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Run the &lt;em&gt;pre-deployment&lt;/em&gt; database migrations by specifying the &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true&lt;/code&gt; environment variable: &lt;code&gt;docker-compose run --rm -e SKIP_POST_DEPLOYMENT_MIGRATIONS=true web bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.4.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.4.1</id>
    <title>New release for Mastodon: v4.4.1</title>
    <updated>2025-07-09T11:28:13-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;p&gt;This is a hotfix for 4.4, mostly addressing build and deployment issues with 4.4.0.&lt;/p&gt;
&lt;p&gt;Check out the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.4.0"&gt;4.4.0 release notes&lt;/a&gt; for information.&lt;/p&gt;
&lt;h2&gt;Upgrade overview&lt;/h2&gt;
&lt;p&gt;This release contains upgrade notes that deviate from the norm:&lt;/p&gt;
&lt;p&gt;ℹ️ Requires assets recompilation&lt;/p&gt;
&lt;p&gt;For more information, view the complete release notes and scroll down to the upgrade instructions section.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix nearly every sub-directory being crawled as part of Vite build (#35323 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix assets not building when Redis is unavailable (#35321 by @oneiros)&lt;/li&gt;
&lt;li&gt;Fix replying from media modal or pop-in-player tagging user &lt;code&gt;@undefined&lt;/code&gt; (#35317 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix support for special characters in various environment variables (#35314 by @mjankowski and @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix some database migrations failing for indexes manually removed by admins (#35309 by @mjankowski)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.4.1, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.4.1&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, make sure you have backups of the database before performing any upgrades. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have not changed since v4.4.0:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.2 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 13 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 6.2 or newer&lt;/li&gt;
&lt;li&gt;Node: 20 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.4.0.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, it is very important to read the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.4.0"&gt;4.4.0 release notes&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Non-Docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of gcc.
If you run into this issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using Docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.4.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.23</id>
    <title>New release for Mastodon: v4.2.23</title>
    <updated>2025-07-23T10:35:40-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Updated dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.23, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.23&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.2.10, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;The minimum supported Ruby version has been bumped from 3.0 to 3.1 in Mastodon v4.2.17. Otherwise, external dependencies have not changed since v4.2.4, the compatible PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.1 to 3.3&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.22.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.23" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.3.10</id>
    <title>New release for Mastodon: v4.3.10</title>
    <updated>2025-07-23T10:36:36-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Updated dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.3.10, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.3.10&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have not changed since v4.3.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.1 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 12 or newer. PostgreSQL versions 14.0 to 14.3 are not supported as they contain a critical data-corruption bug (see &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 18 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.3.9.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, &lt;strong&gt;please read the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;&lt;/strong&gt;, as there have been multiple important changes.&lt;/p&gt;
&lt;h3&gt;Non-docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.3.10" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.4.2</id>
    <title>New release for Mastodon: v4.4.2</title>
    <updated>2025-07-23T10:44:04-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;h2&gt;Upgrade overview&lt;/h2&gt;
&lt;p&gt;This release contains upgrade notes that deviate from the norm:&lt;/p&gt;
&lt;p&gt;ℹ️ Requires assets recompilation&lt;/p&gt;
&lt;p&gt;For more information, view the complete release notes and scroll down to the upgrade instructions section.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;update dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix menu not clickable in Firefox (#35390 and #35414 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;lang&lt;/code&gt; attribute to current composer language in alt text modal (#35412 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix quote posts styling on notifications page (#35411 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Improve a11y of custom select menus in notifications settings (#35403 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix selected item in poll select menus is unreadable in Firefox (#35402 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Update age limit wording (#35387 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix support for quote verification in implicit status updates (#35384 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Improve &lt;code&gt;Dropdown&lt;/code&gt; component accessibility (#35373 by @diondiondion)&lt;/li&gt;
&lt;li&gt;Fix processing some incoming quotes failing because of missing JSON-LD context (#35354 and #35380 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Make bio hashtags open the local page instead of the remote instance (#35349 by @ChaosExAnima)&lt;/li&gt;
&lt;li&gt;Fix styling of external log-in button (#35320 by @ClearlyClaire)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.4.2, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.4.2&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, make sure you have backups of the database before performing any upgrades. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have not changed since v4.4.1:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.2 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 13 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 6.2 or newer&lt;/li&gt;
&lt;li&gt;Node: 20 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.4.1.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, it is very important to read the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.4.0"&gt;4.4.0 release notes&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Non-Docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of gcc.
If you run into this issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using Docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.4.2" rel="alternate"/>
  </entry>
</feed>
