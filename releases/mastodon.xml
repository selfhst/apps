<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Mastodon Releases</title>
  <updated>2025-03-03T08:31:16.045884-05:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.3.3</id>
    <title>New release for Mastodon: v4.3.3</title>
    <updated>2025-01-16T05:56:06-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix insufficient validation of account URIs (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-5wxh-3p65-r4g6"&gt;GHSA-5wxh-3p65-r4g6&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;code&gt;libyaml&lt;/code&gt; missing from &lt;code&gt;Dockerfile&lt;/code&gt; build stage (#33591 by @vmstan)&lt;/li&gt;
&lt;li&gt;Fix incorrect notification settings migration for non-followers (#33348 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix down clause for notification policy v2 migrations (#33340 by @jesseplusplus)&lt;/li&gt;
&lt;li&gt;Fix error decrementing status count when &lt;code&gt;FeaturedTags#last_status_at&lt;/code&gt; is &lt;code&gt;nil&lt;/code&gt; (#33320 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix last paginated notification group only including data on a single notification (#33271 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix processing of mentions for post edits with an existing corresponding silent mention (#33227 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix deletion of unconfirmed users with Webauthn set (#33186 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix empty authors preview card serialization (#33151, #33466 by @mjankowski and @ClearlyClaire)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.3.3, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.3.3&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have not changed since v4.3.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.1 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 12 or newer. PostgreSQL versions 14.0 to 14.3 are not supported as they contain a critical data-corruption bug (see &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 18 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.3.2.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, &lt;strong&gt;please read the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;&lt;/strong&gt;, as there have been multiple important changes.&lt;/p&gt;
&lt;h3&gt;Non-docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.3.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.1.23</id>
    <title>New release for Mastodon: v4.1.23</title>
    <updated>2025-02-27T10:47:31-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!CAUTION]
&lt;strong&gt;The 4.1.x branch will not receive any update—including security fixes—after 2025/04/08.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release includes important security fixes.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.4"&gt;4.3.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.16"&gt;4.2.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!CAUTION]
One of our dependencies has a known security vulnerability which Mastodon may be exposed to when using SAML for external authentication. If you are using SAML, we urge you to update to Mastodon 4.2 or 4.3.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change HTML sanitization to remove unusable and unused &lt;code&gt;embed&lt;/code&gt; tag (#34021 by @ClearlyClaire, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-mq2m-hr29-8gqf"&gt;GHSA-mq2m-hr29-8gqf&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix improper disclosure of domain blocks to unverified users (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-94h4-fj37-c825"&gt;GHSA-94h4-fj37-c825&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix emoji rewrite adding unnecessary curft to the DOM for most emoji (#33818 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix incorrect signature after HTTP redirect (#33757 and #33769 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix polls not being validated on edition (#33755 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix featured tags for remote accounts not being kept up to date (#33372, #33406, and #33425 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.1.23, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.1.23&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.1.18, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.1.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.1.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.1.22.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.1.23" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.16</id>
    <title>New release for Mastodon: v4.2.16</title>
    <updated>2025-02-27T10:39:54-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release includes important security fixes.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.4"&gt;4.3.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.23"&gt;4.1.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!CAUTION]
One of our dependencies has a known security vulnerability which Mastodon may be exposed to when using SAML for external authentication.
We have released &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.17"&gt;v4.2.17&lt;/a&gt; which fixes this issue and we encourage you to update to it (or 4.3), but it unfortunately drops support for Ruby 3.0.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;li&gt;Change HTML sanitization to remove unusable and unused &lt;code&gt;embed&lt;/code&gt; tag (#34021 by @ClearlyClaire, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-mq2m-hr29-8gqf"&gt;GHSA-mq2m-hr29-8gqf&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix rate-limit on sign-up email verification (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-v39f-c9jj-8w7h"&gt;GHSA-v39f-c9jj-8w7h&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix improper disclosure of domain blocks to unverified users (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-94h4-fj37-c825"&gt;GHSA-94h4-fj37-c825&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix emoji rewrite adding unnecessary curft to the DOM for most emoji (#33818 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix incorrect signature after HTTP redirect (#33757 and #33769 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix polls not being validated on edition (#33755 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix featured tags for remote accounts not being kept up to date (#33372, #33406, and #33425 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix exclusive lists interfering with notifications (#28162 by @ShadowJonathan)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.16, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.16&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.2.10, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.15.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.16" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.17</id>
    <title>New release for Mastodon: v4.2.17</title>
    <updated>2025-02-27T10:59:39-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release includes important security fixes.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.4"&gt;4.3.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.23"&gt;4.1.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
This version fixes a vulnerability issue when using SAML but drops support for Ruby 3.0 in the process.
If you configured SAML authentication on your Mastodon instance and use Ruby 3.0, we recommend that you update your Ruby version to 3.2, then update to Mastodon v4.2.17 or later.
If you can't use Ruby 3.1 or later but don't use SAML, updating past &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.16"&gt;v4.2.16&lt;/a&gt; is not as critical.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog (v4.2.17)&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Remove support for Ruby 3.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Changelog (v4.2.16)&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;li&gt;Change HTML sanitization to remove unusable and unused &lt;code&gt;embed&lt;/code&gt; tag (#34021 by @ClearlyClaire, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-mq2m-hr29-8gqf"&gt;GHSA-mq2m-hr29-8gqf&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix rate-limit on sign-up email verification (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-v39f-c9jj-8w7h"&gt;GHSA-v39f-c9jj-8w7h&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix improper disclosure of domain blocks to unverified users (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-94h4-fj37-c825"&gt;GHSA-94h4-fj37-c825&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix emoji rewrite adding unnecessary curft to the DOM for most emoji (#33818 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix incorrect signature after HTTP redirect (#33757 and #33769 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix polls not being validated on edition (#33755 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix featured tags for remote accounts not being kept up to date (#33372, #33406, and #33425 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix exclusive lists interfering with notifications (#28162 by @ShadowJonathan)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.17, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.17&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.2.10, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;The minimum supported Ruby version has been bumped from 3.0 to 3.1. Otherwise, external dependencies have not changed since v4.2.4, the compatible PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.1 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.15.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.17" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.3.4</id>
    <title>New release for Mastodon: v4.3.4</title>
    <updated>2025-02-27T10:29:16-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release includes important security fixes.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.16"&gt;4.2.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.23"&gt;4.1.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
If you are using nightly builds, &lt;strong&gt;do not use this release&lt;/strong&gt; but update to &lt;code&gt;nightly.2025-02-28-security&lt;/code&gt; or newer instead. If you are on the &lt;code&gt;main&lt;/code&gt; branch, update to the latest commit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;li&gt;Change HTML sanitization to remove unusable and unused &lt;code&gt;embed&lt;/code&gt; tag (#34021 by @ClearlyClaire, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-mq2m-hr29-8gqf"&gt;GHSA-mq2m-hr29-8gqf&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix rate-limit on sign-up email verification (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-v39f-c9jj-8w7h"&gt;GHSA-v39f-c9jj-8w7h&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix improper disclosure of domain blocks to unverified users (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-94h4-fj37-c825"&gt;GHSA-94h4-fj37-c825&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change preview cards to be shown when Content Warnings are expanded (#33827 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change warnings against changing encryption secrets to be even more noticeable (#33631 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;mastodon:setup&lt;/code&gt; to prevent overwriting already-configured servers (#33603, #33616, and #33684 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Change notifications from moderators to not be filtered (#32974 and #33654 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;code&gt;GET /api/v2/notifications/:id&lt;/code&gt; and &lt;code&gt;POST /api/v2/notifications/:id/dismiss&lt;/code&gt; for ungrouped notifications (#33990 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix issue with some versions of libvips on some systems (#33853 by @kleisauke)&lt;/li&gt;
&lt;li&gt;Fix handling of duplicate mentions in incoming status &lt;code&gt;Update&lt;/code&gt; (#33911 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix inefficiencies in timeline generation (#33839 and #33842 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix emoji rewrite adding unnecessary curft to the DOM for most emoji (#33818 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;tootctl feeds build&lt;/code&gt; not building list timelines (#33783 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix flaky test in &lt;code&gt;/api/v2/notifications&lt;/code&gt; tests (#33773 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix incorrect signature after HTTP redirect (#33757 and #33769 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix polls not being validated on edition (#33755 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix media preview height in compose form when 3 or more images are attached (#33571 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix preview card sizing in “Author attribution” in profile settings (#33482 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix processing of incoming notifications for unfilterable types (#33429 by @ClearlyClaire)&lt;/li&gt;
&lt;li&gt;Fix featured tags for remote accounts not being kept up to date (#33372, #33406, and #33425 by @ClearlyClaire and @mjankowski)&lt;/li&gt;
&lt;li&gt;Fix notification polling showing a loading bar in web UI (#32960 by @Gargron)&lt;/li&gt;
&lt;li&gt;Fix accounts table long display name (#29316 by @WebCoder49)&lt;/li&gt;
&lt;li&gt;Fix exclusive lists interfering with notifications (#28162 by @ShadowJonathan)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.3.4, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.3.4&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;External dependencies have not changed since v4.3.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.1 or newer&lt;/li&gt;
&lt;li&gt;PostgreSQL: 12 or newer. PostgreSQL versions 14.0 to 14.3 are not supported as they contain a critical data-corruption bug (see &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 18 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick (optional if using libvips): 6.9.7-7 or newer&lt;/li&gt;
&lt;li&gt;libvips (optional, instead of ImageMagick): 8.13 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.3.3.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, &lt;strong&gt;please read the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.3.0"&gt;v4.3.0 release notes&lt;/a&gt;&lt;/strong&gt;, as there have been multiple important changes.&lt;/p&gt;
&lt;h3&gt;Non-docker&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies with &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;When using docker&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes.&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.3.4" rel="alternate"/>
  </entry>
</feed>
