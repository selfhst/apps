<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Swetrix Releases</title>
  <updated>2025-01-20T10:33:09.203813-05:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/Swetrix/swetrix/releases/tag/v3.2.0</id>
    <title>New release for Swetrix: v3.2.0</title>
    <updated>2024-08-11T10:25:05-04:00</updated>
    <author>
      <name>Swetrix/swetrix</name>
    </author>
    <content>&lt;h2&gt;What changed:&lt;/h2&gt;
&lt;h3&gt;ðŸ”¥ Major updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Added support for project views and e-commerce integration (treating custom event metadata as numbers). (https://github.com/Swetrix/swetrix-api/pull/238, https://github.com/Swetrix/swetrix-api/pull/248, https://github.com/Swetrix/swetrix-api/pull/251)&lt;/li&gt;
&lt;li&gt;Added pageview tags (metadata) support (https://github.com/Swetrix/swetrix-api/pull/239)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ðŸ™‚ Minor changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Migrated from &lt;code&gt;clickhouse&lt;/code&gt; to &lt;code&gt;@clickhouse/client&lt;/code&gt; library. This change allows us to implement near instant analytics data collection (before there was an up to 1 minute delay). (https://github.com/Swetrix/swetrix-api/pull/246)&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;DEBUG_MODE&lt;/code&gt; option, which when set to &lt;code&gt;true&lt;/code&gt; will print more logs from Clickhouse.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ðŸ”§ Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Projects endpoint was not accessible as &lt;code&gt;v1/project&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;API keys did not work on &lt;code&gt;v1/project&lt;/code&gt; endpoint.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrading to Swetrix v3.2.0 (from v3.1.0)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
You will need to perform a database migration. Please make sure you read these instructions through to the end to make sure you've updated properly and to avoid losing any data.&lt;/p&gt;
&lt;p&gt;[!WARNING]
Please make sure you always back up your data! Especially before migrating, to prevent data loss if something goes wrong.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In order to upgrade to Swetrix v3.2.0, you will need to perform the following actions:&lt;/p&gt;
&lt;h3&gt;1. Shut down your Swetrix docker container&lt;/h3&gt;
&lt;p&gt;In the self-hosting folder where your &lt;code&gt;docker-compose.yml&lt;/code&gt; file is located, run the &lt;code&gt;docker compose down&lt;/code&gt; command.&lt;/p&gt;
&lt;h3&gt;2. Update your &lt;code&gt;docker-compose.yml&lt;/code&gt; file&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;For &lt;code&gt;swetrix&lt;/code&gt; image, update the following:&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change &lt;code&gt;swetrix/swetrix-fe:v3.1.0&lt;/code&gt; to &lt;code&gt;swetrix/swetrix-fe:v3.2.0&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For &lt;code&gt;swetrix-api&lt;/code&gt; image, update the following:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;swetrix/swetrix-api:v3.1.0&lt;/code&gt; to &lt;code&gt;swetrix/swetrix-api:v3.2.0&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3. Start up your docker container&lt;/h3&gt;
&lt;p&gt;Run the &lt;code&gt;docker compose up -d&lt;/code&gt; command. This will pull up the Swetrix v3.2.0 release.&lt;/p&gt;
&lt;p&gt;If you open your dashboard now, it &lt;strong&gt;will not&lt;/strong&gt; work properly. This is expected as you still need to do a data migration to synchronise the new code with the database tables.&lt;/p&gt;
&lt;h3&gt;4. Run data migrations&lt;/h3&gt;
&lt;p&gt;In your &lt;code&gt;selfhosting&lt;/code&gt; folder, you will need to run the following commands:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bash
docker compose exec swetrix-api node migrations/clickhouse/2024_06_22.js
docker compose exec swetrix-api node migrations/clickhouse/selfhosted_2024_08_10.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It will perform the migrations one at a time. If you don't see any &lt;strong&gt;Query ERROR&lt;/strong&gt; messages written to your console, this indicates that the migrations went well and Swetrix v3.2.0 is ready to use.&lt;/p&gt;
&lt;p&gt;You should not run these scripts more than once.&lt;/p&gt;
&lt;h3&gt;5. Enjoy our latest Swetrix release :)&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://swetrix.com/contact"&gt;Let us know&lt;/a&gt; if you find any bugs or have any feedback for us. Our work would not be possible without your support, and we hope you will love this release!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/Swetrix/swetrix-api/compare/v3.1.0...v3.2.0&lt;/p&gt;</content>
    <link href="https://github.com/Swetrix/swetrix/releases/tag/v3.2.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/Swetrix/swetrix/releases/tag/v3.2.1</id>
    <title>New release for Swetrix: v3.2.1</title>
    <updated>2024-08-30T18:44:08-04:00</updated>
    <author>
      <name>Swetrix/swetrix</name>
    </author>
    <content>&lt;h2&gt;What changed:&lt;/h2&gt;
&lt;h3&gt;ðŸ”§ Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fixed &lt;a href="https://github.com/Swetrix/swetrix-api/issues/253"&gt;an issue&lt;/a&gt; that caused most analytics data not to be saved in the Clickhouse database. (https://github.com/Swetrix/swetrix-api/commit/d46cc2ba788f283ade5c91d6fc8c4785b475d123)&lt;/li&gt;
&lt;li&gt;Error tracking: Pass request headers into the &lt;code&gt;getGeoDetails&lt;/code&gt; function for proper geolocation tracking. (https://github.com/Swetrix/swetrix-api/commit/a02e003dcd3e244ad405ac0dc79d2dfad0a595bd)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/Swetrix/swetrix/releases/tag/v3.2.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/Swetrix/swetrix/releases/tag/v3.2.2</id>
    <title>New release for Swetrix: v3.2.2</title>
    <updated>2024-08-30T18:57:23-04:00</updated>
    <author>
      <name>Swetrix/swetrix</name>
    </author>
    <content>&lt;h2&gt;What changed:&lt;/h2&gt;
&lt;p&gt;This release has no changes and has been released due to Docker release issues with the &lt;a href="https://github.com/Swetrix/swetrix-api/releases/tag/v3.2.1"&gt;v3.2.1&lt;/a&gt; version.&lt;/p&gt;</content>
    <link href="https://github.com/Swetrix/swetrix/releases/tag/v3.2.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/Swetrix/swetrix/releases/tag/v3.2.3</id>
    <title>New release for Swetrix: v3.2.3</title>
    <updated>2024-08-30T19:10:03-04:00</updated>
    <author>
      <name>Swetrix/swetrix</name>
    </author>
    <content>&lt;h2&gt;What changed:&lt;/h2&gt;
&lt;h3&gt;ðŸ”§ Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Removed &lt;code&gt;console.log&lt;/code&gt;'s in some functions, which were accidentally added in the previous release (https://github.com/Swetrix/swetrix-api/commit/07342057a122709c11c4b98d3c4bac42f246dc4a)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/Swetrix/swetrix/releases/tag/v3.2.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/Swetrix/swetrix/releases/tag/v3.3.0</id>
    <title>New release for Swetrix: v3.3.0</title>
    <updated>2024-11-08T13:54:58-05:00</updated>
    <author>
      <name>Swetrix/swetrix</name>
    </author>
    <content>&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
This release contains some breaking changes that require migrations, so please read these instructions carefully.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;What changed:&lt;/h2&gt;
&lt;h3&gt;ðŸ”¥ Major updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add support for UTM Term &amp;amp; UTM Content metrics&lt;/li&gt;
&lt;li&gt;Add browser and OS version metrics&lt;/li&gt;
&lt;li&gt;Swetrix is now more memory efficient with lots of optimisations done for our Clickhouse and Redis usage&lt;/li&gt;
&lt;li&gt;Added support for region and city geolocation tracking. Swetrix now ships with a DB-IP geolocation database, you can also use your own .mmdb databases by setting a new &lt;code&gt;IP_GEOLOCATION_DB_PATH&lt;/code&gt; variable&lt;/li&gt;
&lt;li&gt;Clickhouse logs are no longer removed by Swetrix and instead we strongly recommend that you tune Clickhouse with its config files. We include several configs for this, so read on to know how to enable them&lt;/li&gt;
&lt;li&gt;Removed &lt;code&gt;API_ORIGINS&lt;/code&gt; environment variable. The &lt;code&gt;Allowed origins&lt;/code&gt; setting on the project settings page should be used instead&lt;/li&gt;
&lt;li&gt;Removed &lt;code&gt;SELFHOSTED&lt;/code&gt; environment variable&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;IS_PRIMARY_NODE&lt;/code&gt; environment variable. For 99% of use cases there's no need to set up multiple API nodes, one node is capable of handling lots of traffic, so it's recommended to keep it at &lt;code&gt;true&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ðŸ™‚ Minor changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Redesigned notifications&lt;/li&gt;
&lt;li&gt;Displaying custom events metadata in session overview&lt;/li&gt;
&lt;li&gt;Added sorting for custom events and page-views metadata table&lt;/li&gt;
&lt;li&gt;Replaced blake3 session hashing with xxHash for better performance&lt;/li&gt;
&lt;li&gt;Removed always shown scrollbars on overflowing rows for dashboard panels&lt;/li&gt;
&lt;li&gt;Now you can go to user session by clicking on rows inside Live visitors dropdown&lt;/li&gt;
&lt;li&gt;Disable comparisons for &lt;code&gt;This hour&lt;/code&gt; timebucket due to it's buggy behaviour&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ðŸ”§ Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Session filters do not work properly when refreshing the page&lt;/li&gt;
&lt;li&gt;Fixed an issue when sometimes you could see &lt;code&gt;TypeError: Cannot destructure property 'index' of 's[0]' as it is null&lt;/code&gt; errors thrown in dashboard&lt;/li&gt;
&lt;li&gt;Session chart is not working when account timezone is not set to UTC&lt;/li&gt;
&lt;li&gt;User flow chart did not work properly and did not display accurate data&lt;/li&gt;
&lt;li&gt;Errors tracked with Swetrix were displayed in dashboard with a delay for users with timezone not set at UTC&lt;/li&gt;
&lt;li&gt;Geolocation tracking was not working for users who had &lt;code&gt;CLOUDFLARE_PROXY_ENABLED&lt;/code&gt; variable set to &lt;code&gt;true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Sharable link on project settings was set to swetrix.com&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrading to Swetrix v3.3.0 (from v3.2.x)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
You will need to perform a database migration. Please make sure you read these instructions through to the end to make sure you've updated properly and to avoid losing any data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;1. Added &lt;code&gt;.env&lt;/code&gt; file; &lt;code&gt;docker-compose.yml&lt;/code&gt; is now &lt;code&gt;compose.yaml&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;We've taken a lot of feedback from the previous release into account and tried to make the self-hosted version of Swetrix easy to set up, upgrade and maintain. So some changes have been made to achieve this.&lt;/p&gt;
&lt;p&gt;Before upgrading, you should back up your &lt;code&gt;docker-compose.yml&lt;/code&gt; settings, as you'll need them later.&lt;/p&gt;
&lt;p&gt;To upgrade your configuration files, do the following:
1. Go to the &lt;a href="https://github.com/swetrix/selfhosting"&gt;selfhosting&lt;/a&gt; repository and run the &lt;code&gt;docker compose down&lt;/code&gt; command to switch off Swetrix.
2. Back up your &lt;code&gt;docker-compose.yml&lt;/code&gt; settings somewhere else, as you will need to reuse them later on. Run &lt;code&gt;git pull&lt;/code&gt; to download our latest config (if this command does not work, you can run &lt;code&gt;git checkout -- .&lt;/code&gt; first, but make sure you have saved your config file, as this will undo your changes).
3. After you do a &lt;code&gt;git pull&lt;/code&gt;, run the &lt;code&gt;./configure.sh&lt;/code&gt; script. It will prompt you to enter environment variables one at a time and will generate an &lt;code&gt;.env&lt;/code&gt; file at the end. You can edit this &lt;code&gt;.env&lt;/code&gt; file manually as well if required.
4. Run the &lt;code&gt;docker compose up -d&lt;/code&gt; command. This will pull the latest Swetrix and Clickhouse releases. If you open your dashboard now, it &lt;strong&gt;will not&lt;/strong&gt; work properly. This is expected as you still need to do a data migration to synchronise the new code with the database tables.&lt;/p&gt;
&lt;p&gt;&lt;img width="763" alt="Screenshot_2024-11-06_at_20_19_59" src="https://github.com/user-attachments/assets/468027d3-4555-441f-8e9a-87afcfc43f93"&gt;&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;compose.yaml&lt;/code&gt; configuration also comes with several different &lt;a href="https://github.com/Swetrix/selfhosting/tree/main/nginx"&gt;Clickhouse configs&lt;/a&gt; from us to make Swetrix work more efficiently and faster. You can also create your own configs and add them to the compose file.&lt;/p&gt;
&lt;h3&gt;2. Run database migration scripts&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
Please make sure you always back up your data! Especially before migrating, to prevent data loss if something goes wrong.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In order to upgrade to Swetrix v3.3.0, you will need to run database migrations scripts. We assume that you've already followed the instructions above, so your &lt;code&gt;compose.yaml&lt;/code&gt; file should already be set to the latest Swetrix versions and they are already installed on your machine.&lt;/p&gt;
&lt;p&gt;To perform the migrations, you need to run the following commands in your &lt;code&gt;selfhosting&lt;/code&gt; folder:
&lt;code&gt;bash
docker compose exec swetrix-api node migrations/clickhouse/2024_09_10.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_15.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_20.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_25.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_26.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_27.js
docker compose exec swetrix-api node migrations/clickhouse/2024_10_28.js
docker compose exec swetrix-api node migrations/clickhouse/selfhosted_2024_10_17.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It will perform the migrations one at a time. If you don't see any &lt;strong&gt;Query ERROR&lt;/strong&gt; messages written to your console, this indicates that the migrations went well and Swetrix v3.3.0 is ready to use. You should not run this script more than once.&lt;/p&gt;
&lt;p&gt;After performing the migrations, you can run &lt;code&gt;docker compose restart&lt;/code&gt; and Swetrix should be good to go!&lt;/p&gt;
&lt;p&gt;ðŸŽ‰ That's it, enjoy selfhosting Swetrix! &lt;a href="https://swetrix.com/contact"&gt;Let us know&lt;/a&gt; if you find any bugs or have any feedback for us and join our &lt;a href="https://discord.gg/ZVK8Tw2E8j"&gt;Discord&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Our work would not be possible without your support, and we hope you will love this release!&lt;/p&gt;</content>
    <link href="https://github.com/Swetrix/swetrix/releases/tag/v3.3.0" rel="alternate"/>
  </entry>
</feed>
