<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>RunsOn Releases</title>
  <updated>2024-12-14T02:33:14.275794-05:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/runs-on/runs-on/releases/tag/v2.5.6</id>
    <title>New release for RunsOn: v2.5.6</title>
    <updated>2024-10-18T04:47:12-04:00</updated>
    <author>
      <name>runs-on/runs-on</name>
    </author>
    <content>&lt;p&gt;Enable IPv6 for runners. Allow to specify multiple static IPs for the managed NAT gateway. Allow filtering images based on tags. A lot of changes (again) around GitHub rate-limit handling and housekeeping mechanism.&lt;/p&gt;
&lt;h2&gt;New features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Enable IPv6 for runners (fixes #142). An IPv6 is attached for both public and private runners, with an egress ipv6 (free) gateway for private instances.&lt;/li&gt;
&lt;li&gt;Allow to specify multiple static IPs for the managed NAT gateway (fixes #139). By default up to 2 are possible, and up to 8 when a quota increase is requested. This helps if you are launching a large number of runners in private subnets, and some external service rate-limits you based on the IP.&lt;/li&gt;
&lt;li&gt;Allow filtering images based on a tag, in addition to the name wildcard (e.g. &lt;code&gt;is-production-ready=true&lt;/code&gt;). Example :&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;```yaml&lt;/p&gt;
&lt;h1&gt;.github/runs-on.yml&lt;/h1&gt;
&lt;p&gt;images:
  custom:
    owner: "123456789"
    name: "my-org/my-image-name-&lt;em&gt;"
    arch: x64
    platform: linux
    tags:
      # filter with specific value
      is-production-ready: "true"
      # allow any value
      other-tag: "&lt;/em&gt;"
&lt;code&gt;``
- Automatically bind-mount&lt;/code&gt;/var/lib/docker` on the ephemeral instance storage, if any. Fixes #144.&lt;/p&gt;
&lt;h2&gt;Bug fixes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Escape shell special characters in env file values.&lt;/li&gt;
&lt;li&gt;If a matching AMI cannot be found, do not retry and alert on first error.&lt;/li&gt;
&lt;li&gt;Do not attempt to retry job if generated fleet params configuration is incorrect.&lt;/li&gt;
&lt;li&gt;Abort early if workflow run status cannot be checked.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Fixes to avoid GitHub rate-limit issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;No longer attempt to reschedule jobs where a runner theft is suspected. Instead log a warning message telling users to make sure their jobs &lt;a href="https://runs-on.com/guides/troubleshoot/#long-queuing-time-for-some-workflows"&gt;have unique enough labels&lt;/a&gt;. In some cases this was triggering useless reschedules due to GitHub not reflecting the job state quickly enough.&lt;/li&gt;
&lt;li&gt;Fix too many GitHub calls when fetching repo config from an &lt;code&gt;extends&lt;/code&gt; attribute (cache it).&lt;/li&gt;
&lt;li&gt;No longer unregister runners from GitHub if API credit is lower than 2500. They will be &lt;a href="https://github.blog/changelog/2022-08-03-github-actions-remove-offline-self-hosted-runners/"&gt;removed by GitHub&lt;/a&gt; 24h later anyway.&lt;/li&gt;
&lt;li&gt;Reorganize rate-limiters, increase &lt;code&gt;DELAY_SECONDS_FOR_CHECK_BACK&lt;/code&gt; to 180s instead of 120s. Enable github rate-limiter, and set burst to the current number of remaining tokens.&lt;/li&gt;
&lt;li&gt;Only attempt to finalize a job once at most. Instance will auto-terminate anyway so at worst we lose the job usage metrics in CloudWatch. But at least we don't eat into the GitHub / EC2 credits.&lt;/li&gt;
&lt;li&gt;Set housekeeping and termination queue sizes to 1 to reduce their impact on GitHub API credits.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://runs-on.com/guides/upgrade/"&gt;Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CloudFormation Versioned template URL: https://runs-on.s3.eu-west-1.amazonaws.com/cloudformation/template-v2.5.6.yaml&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/runs-on/runs-on/releases/tag/v2.5.6" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/runs-on/runs-on/releases/tag/v2.5.8</id>
    <title>New release for RunsOn: v2.5.8</title>
    <updated>2024-10-30T17:12:19-04:00</updated>
    <author>
      <name>runs-on/runs-on</name>
    </author>
    <content>&lt;p&gt;Revert x/time dependency to v0.6.0 since v0.7.0 introduced a &lt;a href="https://cs.opensource.google/go/x/time/+/refs/tags/v0.7.0:rate/rate.go;bpv=1;bpt=0;drc=772484ea383fac83b7da05684a96ae628b251bcd;dlc=883aed519795b30de35e6bc28ec8f681494afa87"&gt;breaking change&lt;/a&gt; for rate-limits when using a zero limit.&lt;/p&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://runs-on.com/guides/upgrade/"&gt;Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CloudFormation Versioned template URL: https://runs-on.s3.eu-west-1.amazonaws.com/cloudformation/template-v2.5.8.yaml&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/runs-on/runs-on/releases/tag/v2.5.8" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/runs-on/runs-on/releases/tag/v2.5.9</id>
    <title>New release for RunsOn: v2.5.9</title>
    <updated>2024-11-06T05:51:52-05:00</updated>
    <author>
      <name>runs-on/runs-on</name>
    </author>
    <content>&lt;p&gt;Fix GitHub webhook &lt;code&gt;custom_properties&lt;/code&gt; handling when non-string values.&lt;/p&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://runs-on.com/guides/upgrade/"&gt;Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CloudFormation Versioned template URL: https://runs-on.s3.eu-west-1.amazonaws.com/cloudformation/template-v2.5.9.yaml&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/runs-on/runs-on/releases/tag/v2.5.9" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/runs-on/runs-on/releases/tag/v2.6.0</id>
    <title>New release for RunsOn: v2.6.0</title>
    <updated>2024-11-21T08:55:48-05:00</updated>
    <author>
      <name>runs-on/runs-on</name>
    </author>
    <content>&lt;p&gt;Auto-retry mechanism for spot interruptions, SingleAZ or MultiAZ NAT gateways, and more!&lt;/p&gt;
&lt;h2&gt;What's changed&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Spot workflows are now retried once with an on-demand instance if interrupted. Fixes #160. &lt;strong&gt;Requires a permission update&lt;/strong&gt; (&lt;code&gt;write&lt;/code&gt; permission for Actions instead of &lt;code&gt;read&lt;/code&gt;) for existing installations. You should receive an email with instructions after upgrading. Also add &lt;code&gt;runs-on-workflow-job-interrupted=true&lt;/code&gt; to the instance tags if the spot instance was interrupted.&lt;/li&gt;
&lt;li&gt;Add new label &lt;code&gt;retry&lt;/code&gt;, with possible values &lt;code&gt;retry=when-interrupted&lt;/code&gt; (default for spot), and &lt;code&gt;retry=false&lt;/code&gt; to opt out of any auto-retry (useful for non-idempotent jobs).&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;runs-on-workflow-job-id&lt;/code&gt; to the instance tags once the job has started. Also add it to prometheus metric labels.&lt;/li&gt;
&lt;li&gt;Rename tag &lt;code&gt;runs-on-job-started&lt;/code&gt; =&amp;gt; &lt;code&gt;runs-on-workflow-job-started&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Allow to use 1 NAT gateway per AZ instead of a single one for all. Fixes #165.&lt;/li&gt;
&lt;li&gt;Add optional &lt;code&gt;VpcCidrSubnetBits&lt;/code&gt;, &lt;code&gt;DefaultPermissionBoundaryArn&lt;/code&gt;, &lt;code&gt;VpcFlowLogFormat&lt;/code&gt;, and &lt;code&gt;VpcFlowLogS3BucketAr&lt;/code&gt; parameters, so that users can get more conformant stacks compared to their internal settings.&lt;/li&gt;
&lt;li&gt;Set RunsOn env variables on Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New Contributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@chris9979 made their first contribution in https://github.com/runs-on/runs-on/pull/167&lt;/li&gt;
&lt;li&gt;@colstrom made their first contribution in https://github.com/runs-on/runs-on/pull/169&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://runs-on.com/guides/upgrade/"&gt;Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CloudFormation Versioned template URL: https://runs-on.s3.eu-west-1.amazonaws.com/cloudformation/template-v2.6.0.yaml&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/runs-on/runs-on/releases/tag/v2.6.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/runs-on/runs-on/releases/tag/v2.6.1</id>
    <title>New release for RunsOn: v2.6.1</title>
    <updated>2024-11-27T11:07:46-05:00</updated>
    <author>
      <name>runs-on/runs-on</name>
    </author>
    <content>&lt;p&gt;New stack parameters and best practices compliance changes. No longer defaults to fetching global config when a local repo config is not found. Improve housekeeping to handle an additional AWS internal error case when launching an instance.&lt;/p&gt;
&lt;h2&gt;What's changed&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add parameter to enable/disable IPv6: &lt;code&gt;Ipv6Enabled&lt;/code&gt;. Default is now &lt;code&gt;false&lt;/code&gt;, which is a change from previous versions where IPv6 was always enabled. The reason for that is that it looks like docker pulls will go through IPv6 IPs, and for some reason they are getting rate-limited much faster than on IPv4. Will have to dig a bit deeper into that. Fixes #177.&lt;/li&gt;
&lt;li&gt;Add parameter to disable the inbound SSH rule in the default security group for runners: &lt;code&gt;SSHAllowed&lt;/code&gt;. Default is &lt;code&gt;true&lt;/code&gt;. Fixes #174. Fixes #159.&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;VpcFlowLogRetentionInDays&lt;/code&gt; stack parameter. Fixes #180.&lt;/li&gt;
&lt;li&gt;No longer defaults to fetching global config when a local repo config is not found. The current behaviour was a bit broken with the caching mechanism, and lead to confusion. Let's make the behaviour explicit by requiring a local repo config file, with an &lt;a href="https://runs-on.com/configuration/repo-config/#sharing-configuration-across-repositories"&gt;explicit &lt;code&gt;_extends&lt;/code&gt; directive&lt;/a&gt;. I understand this is a bit cumbersome if you have many repositories, but I think it's also nice to be able to inspect which repositories are inheriting from the global config. I'm introducing this change as part of a patch release because the current behaviour was already broken on v2.6.0.&lt;/li&gt;
&lt;li&gt;Housekeeping: Detect AWS server issue that sometimes leaves instances in pending state, in which case RunsOn will terminate the current instance, and reschedule.&lt;/li&gt;
&lt;li&gt;Enable versioning on all S3 buckets. Fixes #181.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://runs-on.com/guides/upgrade/"&gt;Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CloudFormation Versioned template URL: https://runs-on.s3.eu-west-1.amazonaws.com/cloudformation/template-v2.6.1.yaml&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/runs-on/runs-on/releases/tag/v2.6.1" rel="alternate"/>
  </entry>
</feed>
