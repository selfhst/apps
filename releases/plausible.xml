<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Plausible Releases</title>
  <updated>2024-06-06T12:31:19.736555-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/plausible/analytics/releases/tag/v1.4.4</id>
    <title>New release for Plausible: v1.4.4</title>
    <updated>2022-01-26T17:09:22-05:00</updated>
    <author>
      <name>plausible/analytics</name>
    </author>
    <content>&lt;p&gt;Security patch for password reset emails. Analysis of the issue and its impact: https://my-devbox.de/en/blog/accidental-pen-tester-evening/&lt;/p&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix vulnerability with password reset emails&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/plausible/analytics/releases/tag/v1.4.4" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/plausible/analytics/releases/tag/v1.5.1</id>
    <title>New release for Plausible: v1.5.1</title>
    <updated>2023-06-18T06:30:34-04:00</updated>
    <author>
      <name>plausible/analytics</name>
    </author>
    <content>&lt;p&gt;The highlights of this release are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;City and region level geolocation (disabled by default, please see below for the guide)&lt;/li&gt;
&lt;li&gt;Google Analytics integration: https://plausible.io/docs/google-analytics-import (WIP setup guide: https://github.com/plausible/docs/pull/278)&lt;/li&gt;
&lt;li&gt;CSV data export: https://plausible.io/docs/export-stats&lt;/li&gt;
&lt;li&gt;ARM64 support&lt;/li&gt;
&lt;li&gt;Improved first launch experience&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;New first launch&lt;/h4&gt;
&lt;p&gt;Admin user registration is now done through the UI instead of configuration variables. At first launch, users are presented with a registration page which will create the admin account. Admin account related configuration variables are ignored going forward. See below for details.&lt;/p&gt;
&lt;p&gt;Admin user registration is required from 1.5 onwards. We are deprecating the &lt;code&gt;DISABLE_AUTH&lt;/code&gt; option which allowed Plausible to be used without any user account at all.&lt;/p&gt;
&lt;p&gt;Users with existing admin accounts are not affected, but we recommend removing the unused configuration variables. A benefit of moving admin account management to the UI is that you can now change the admin email account through the UI. Previously, this was done by manual database changes and configuration change which required restarting the service.&lt;/p&gt;
&lt;h3&gt;Upgrading Plausible Analytics to v1.5&lt;/h3&gt;
&lt;p&gt;In your &lt;code&gt;docker-compose.yml&lt;/code&gt; update the image used for &lt;code&gt;plausible&lt;/code&gt; to &lt;code&gt;v1.5.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;```diff
plausible:
- image: plausible/analytics:v1.4
+ image: plausible/analytics:v1.5.1
````&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;Please make sure to &lt;strong&gt;not&lt;/strong&gt; use &lt;code&gt;v1.5.0&lt;/code&gt; release which had startup problems: https://github.com/plausible/analytics/issues/2491&lt;/sub&gt;&lt;/p&gt;
&lt;h4&gt;Restart the container&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;$ docker compose stop plausible
$ docker compose rm plausible
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will boot up the new version of the app.&lt;/p&gt;
&lt;h3&gt;City-level geolocation setup (Optional, requires more memory)&lt;/h3&gt;
&lt;p&gt;‚ö†Ô∏è Note that this city level geolocation feature requires extra &lt;strong&gt;~1GB of RAM&lt;/strong&gt; to work. If you don't have enough RAM available, you might experience slow container startups and restarts.&lt;/p&gt;
&lt;p&gt;City level geolocation can be enabled by mounting a volume with the downloaded &lt;a href="https://github.com/plausible/location#cities"&gt;&lt;code&gt;geonames.csv&lt;/code&gt;&lt;/a&gt; and &lt;a href="https://dev.maxmind.com/geoip/geolite2-free-geolocation-data?lang=en"&gt;&lt;code&gt;geolite2-city.mmdb&lt;/code&gt;&lt;/a&gt; and setting &lt;code&gt;GEONAMES_SOURCE_FILE&lt;/code&gt; and &lt;code&gt;IP_GEOLOCATION_DB&lt;/code&gt; to point to them:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ # custom (smaller) csv can be used, see https://github.com/plausible/location#cities for more info
$ curl -O https://s3.eu-central-1.wasabisys.com/plausible-application/geonames.csv&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ export MAXMIND_LICENSE_KEY=LNpsJCCKPis6XvBP # this key is not valid anymore
$ curl -L "https://download.maxmind.com/app/geoip_download?edition_id=GeoLite2-City&amp;amp;license_key=${MAXMIND_LICENSE_KEY}&amp;amp;suffix=tar.gz" -o geolite2-city.mmdb.gz
$ gunzip geolite2-city.mmdb.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker-compose.yml&lt;/code&gt;
&lt;code&gt;diff
  plausible:
    image: plausible/analytics:v1.5.1
+   volumes:
+     - ./geonames.csv:/etc/app/geonames.csv:ro
+     - ./geolite2-city.mmdb:/etc/app/geolite2-city.mmdb:ro&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;plausible-conf.env&lt;/code&gt;
&lt;code&gt;diff
BASE_URL=replace-me
SECRET_KEY_BASE=replace-me
+ GEONAMES_SOURCE_FILE=/etc/app/geonames.csv
+ IP_GEOLOCATION_DB=/etc/app/geolite2-city.mmdb&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Upgrading ClickHouse to 22.6 (Optional, but recommended)&lt;/h3&gt;
&lt;p&gt;In your &lt;code&gt;docker-compose.yml&lt;/code&gt; update the image used for &lt;code&gt;plausible_events_db&lt;/code&gt; to a newer ClickHouse version:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;diff
plausible_events_db:
- image: yandex/clickhouse-server:21.3.2.5
+ image: clickhouse/clickhouse-server:22.6-alpine&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;Restart the container&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;$ docker compose stop plausible plausible_events_db
$ docker compose rm plausible_events_db
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will boot up the new version of ClickHouse.&lt;/p&gt;
&lt;p&gt;Related PR: https://github.com/plausible/hosting/pull/45&lt;/p&gt;
&lt;h3&gt;Upgrading PostgreSQL to 14 (Optional, but recommended)&lt;/h3&gt;
&lt;p&gt;Upgrading PostgreSQL is a bit trickier, &lt;a href="https://github.com/plausible/hosting/blob/master/upgrade/postgres.md"&gt;here's the upgrade guide.&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Removing deprecated commands and environment variables (Optional, but recommended)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ADMIN_USER_EMAIL&lt;/code&gt;, &lt;code&gt;ADMIN_USER_NAME&lt;/code&gt;, &lt;code&gt;ADMIN_USER_PWD&lt;/code&gt;, &lt;code&gt;DISABLE_AUTH&lt;/code&gt; environment variables are no longer supported and are ignored if set.&lt;/p&gt;
&lt;p&gt;Please remove them from &lt;code&gt;plausible-conf.env&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;diff
- ADMIN_USER_EMAIL=replace-me
- ADMIN_USER_NAME=replace-me
- ADMIN_USER_PWD=replace-me
- DISABLE_AUTH=true
  BASE_URL=replace-me
  SECRET_KEY_BASE=replace-me&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/plausible/hosting/blob/a6fe8d13df3566f7bb3625a1a524f5498d56693d/docker-compose.yml#L31"&gt;&lt;code&gt;/entrypoint.sh db init-admin&lt;/code&gt;&lt;/a&gt; command that was responsible for creating the admin user &lt;a href="https://github.com/plausible/analytics/blob/e522a2d7c182f5a0c7b2d95bf3ea248567a529e0/rel/overlays/init-admin.sh#L4-L5"&gt;is also deprecated.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Please remove it from &lt;code&gt;docker-compose.yml&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;diff
plausible:
  image: plausible/analytics:v1.5.1
- command: sh -c "sleep 10 &amp;amp;&amp;amp; /entrypoint.sh db createdb &amp;amp;&amp;amp; /entrypoint.sh db migrate &amp;amp;&amp;amp; /entrypoint.sh db init-admin &amp;amp;&amp;amp; /entrypoint.sh run"
+ command: sh -c "sleep 10 &amp;amp;&amp;amp; /entrypoint.sh db createdb &amp;amp;&amp;amp; /entrypoint.sh db migrate &amp;amp;&amp;amp; /entrypoint.sh run"&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;p&gt;Following &lt;a href="https://github.com/plausible/analytics/compare/v1.4.4...v1.5.1"&gt;changes&lt;/a&gt; have been made since &lt;code&gt;v1.4&lt;/code&gt;:&lt;/p&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Set a different interval on the top graph plausible/analytics#1574 (thanks to @Vigasaurus for this feature)&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;tagged-events&lt;/code&gt; script extension for out-of-the-box custom event tracking&lt;/li&gt;
&lt;li&gt;The ability to escape &lt;code&gt;|&lt;/code&gt; characters with &lt;code&gt;\&lt;/code&gt; in Stats API filter values&lt;/li&gt;
&lt;li&gt;An upper bound of 1000 to the &lt;code&gt;limit&lt;/code&gt; parameter in Stats API&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;exclusions&lt;/code&gt; script extension now also takes a &lt;code&gt;data-include&lt;/code&gt; attribute tag&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;file-downloads&lt;/code&gt; script extension for automatically tracking file downloads as custom events&lt;/li&gt;
&lt;li&gt;Integration with &lt;a href="https://github.com/matomo-org/referrer-spam-list/blob/master/spammers.txt"&gt;Matomo's referrer spam list&lt;/a&gt; to block known spammers&lt;/li&gt;
&lt;li&gt;API route &lt;code&gt;PUT /api/v1/sites/goals&lt;/code&gt; with form params &lt;code&gt;site_id&lt;/code&gt;, &lt;code&gt;event_name&lt;/code&gt; and/or &lt;code&gt;page_path&lt;/code&gt;, and &lt;code&gt;goal_type&lt;/code&gt; with supported types &lt;code&gt;event&lt;/code&gt; and &lt;code&gt;page&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;API route &lt;code&gt;DELETE /api/v1/sites/goals/:goal_id&lt;/code&gt; with form params &lt;code&gt;site_id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The public breakdown endpoint can be queried with the "events" metric&lt;/li&gt;
&lt;li&gt;Data exported via the download button will contain CSV data for all visible graps in a zip file.&lt;/li&gt;
&lt;li&gt;Region and city-level geolocation plausible/analytics#1449&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;u&lt;/code&gt; option can now be used in the &lt;code&gt;manual&lt;/code&gt; extension to specify a URL when triggering events.&lt;/li&gt;
&lt;li&gt;Delete a site and all related data through the Sites API&lt;/li&gt;
&lt;li&gt;Subscribed users can see their Paddle invoices from the last 12 months under the user settings&lt;/li&gt;
&lt;li&gt;Allow custom styles to be passed to embedded iframe plausible/analytics#1522&lt;/li&gt;
&lt;li&gt;New UTM Tags &lt;code&gt;utm_content&lt;/code&gt; and &lt;code&gt;utm_term&lt;/code&gt; plausible/analytics#515&lt;/li&gt;
&lt;li&gt;If a session was started without a screen_size it is updated if an event with screen_size occurs&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;LISTEN_IP&lt;/code&gt; configuration parameter plausible/analytics#1189&lt;/li&gt;
&lt;li&gt;The breakdown endpoint with the property query &lt;code&gt;property=event:goal&lt;/code&gt; returns custom goal properties (within &lt;code&gt;props&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Added IPv6 Ecto support (via the environment-variable &lt;code&gt;ECTO_IPV6&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;New filter type: &lt;code&gt;contains&lt;/code&gt;, available for &lt;code&gt;page&lt;/code&gt;, &lt;code&gt;entry_page&lt;/code&gt;, &lt;code&gt;exit_page&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add filter for custom property&lt;/li&gt;
&lt;li&gt;Add ability to import historical data from GA: plausible/analytics#1753&lt;/li&gt;
&lt;li&gt;API route &lt;code&gt;GET /api/v1/sites/:site_id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Hovering on top of list items will now show a &lt;a href="https://github.com/plausible/analytics/discussions/1968"&gt;tooltip with the exact number instead of a shortened version&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Filter goals in realtime filter by clicking goal name&lt;/li&gt;
&lt;li&gt;The time format (12 hour or 24 hour) for graph timelines is now presented based on the browser's defined language&lt;/li&gt;
&lt;li&gt;Choice of metric for main-graph both in UI and API (visitors, pageviews, bounce_rate, visit_duration) plausible/analytics#1364&lt;/li&gt;
&lt;li&gt;New width=manual mode for embedded dashboards plausible/analytics#2148&lt;/li&gt;
&lt;li&gt;Add more timezone options&lt;/li&gt;
&lt;li&gt;Add new strategy to recommend timezone when creating a new site&lt;/li&gt;
&lt;li&gt;Alert outgrown enterprise users of their usage plausible/analytics#2197&lt;/li&gt;
&lt;li&gt;Manually lock and unlock enterprise users plausible/analytics#2197&lt;/li&gt;
&lt;li&gt;ARM64 support for docker images plausible/analytics#2103&lt;/li&gt;
&lt;li&gt;Add support for international domain names (IDNs) plausible/analytics#2034&lt;/li&gt;
&lt;li&gt;Allow self-hosters to register an account on first launch&lt;/li&gt;
&lt;li&gt;Fix ownership transfer invitation link in self-hosted deployments&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Plausible script does not prevent default if it's been prevented by an external script &lt;a href="https://github.com/plausible/analytics/issues/1941"&gt;plausible/analytics#1941&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Hash part of the URL can now be used when excluding pages with &lt;code&gt;script.exclusions.hash.js&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;UI fix where multi-line text in pills would not be underlined properly on small screens.&lt;/li&gt;
&lt;li&gt;UI fix to align footer columns&lt;/li&gt;
&lt;li&gt;Guests can now use the favicon to toggle additional info about the site bing viewed (such as in public embeds).&lt;/li&gt;
&lt;li&gt;Fix SecurityError in tracking script when user has blocked all local storage&lt;/li&gt;
&lt;li&gt;Prevent dashboard graph from being selected when long pressing on the graph in a mobile browser&lt;/li&gt;
&lt;li&gt;The exported &lt;code&gt;pages.csv&lt;/code&gt; file now includes pageviews again &lt;a href="https://github.com/plausible/analytics/issues/1878"&gt;plausible/analytics#1878&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix a bug where city, region and country filters were filtering stats but not the location list&lt;/li&gt;
&lt;li&gt;Fix a bug where regions were not being saved&lt;/li&gt;
&lt;li&gt;Timezone offset labels now update with time changes&lt;/li&gt;
&lt;li&gt;Render 404 if shared link auth cannot be verified &lt;a href="https://github.com/plausible/analytics/pull/2225"&gt;plausible/analytics#2225&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Restore compatibility with older format of shared links &lt;a href="https://github.com/plausible/analytics/pull/2225"&gt;plausible/analytics#2225&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix 'All time' period for sites with no recorded stats &lt;a href="https://github.com/plausible/analytics/pull/2277"&gt;plausible/analytics#2277&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ensure settings page can be rendered after a form error &lt;a href="https://github.com/plausible/analytics/pull/2278"&gt;plausible/analytics#2278&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ensure newlines from settings files are trimmed &lt;a href="https://github.com/plausible/analytics/pull/2480"&gt;plausible/analytics#2480&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;script.file-downloads.outbound-links.js&lt;/code&gt; only sends an outbound link event when an outbound download link is clicked&lt;/li&gt;
&lt;li&gt;Plausible script now uses callback navigation (instead of waiting for 150ms every time) when sending custom events&lt;/li&gt;
&lt;li&gt;Cache the tracking script for 24 hours&lt;/li&gt;
&lt;li&gt;Move &lt;code&gt;entry_page&lt;/code&gt; and &lt;code&gt;exit_page&lt;/code&gt; to be part of the &lt;code&gt;Page&lt;/code&gt; filter group&lt;/li&gt;
&lt;li&gt;Paginate /api/sites results and add a &lt;code&gt;View all&lt;/code&gt; link to the site-switcher dropdown in the dashboard.&lt;/li&gt;
&lt;li&gt;Remove the &lt;code&gt;+ Add Site&lt;/code&gt; link to the site-switcher dropdown in the dashboard.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DISABLE_REGISTRATIONS&lt;/code&gt; configuration parameter can now accept &lt;code&gt;invite_only&lt;/code&gt; to allow invited users to register an account while keeping regular registrations disabled plausible/analytics#1841&lt;/li&gt;
&lt;li&gt;New and improved Session tracking module for higher throughput and lower latency. &lt;a href="https://github.com/plausible/analytics#1934"&gt;PR#1934&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Do not display ZZ country code in countries report &lt;a href="https://github.com/plausible/analytics#2223"&gt;PR#1934&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add fallback icon for when DDG favicon cannot be fetched &lt;a href="https://github.com/plausible/analytics#2279"&gt;PR#2279&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add Content-Security-Policy header to favicon path&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecated&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DISABLE_AUTH&lt;/code&gt; is no longer supported&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Release candidates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/plausible/analytics/discussions/2324"&gt;&lt;code&gt;v1.5.0-rc.0&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/plausible/analytics/discussions/2460"&gt;&lt;code&gt;v1.5.0-rc.1&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/plausible/analytics/releases/tag/v1.5.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/plausible/analytics/releases/tag/v2.0.0</id>
    <title>New release for Plausible: v2.0.0</title>
    <updated>2023-07-12T06:27:57-04:00</updated>
    <author>
      <name>plausible/analytics</name>
    </author>
    <content>&lt;p&gt;The highlights of this release are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;more visitor metrics like total visits and views per visit&lt;/li&gt;
&lt;li&gt;period comparisons &lt;a href="https://plausible.io/docs/guided-tour#compare-your-stats-over-time"&gt;[docs]&lt;/a&gt; &lt;a href="https://plausible.io/plausible.io?comparison=previous_period"&gt;[example]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ability to change domains names https://github.com/plausible/analytics/pull/2803&lt;/li&gt;
&lt;li&gt;automatic geolocation database downloads  plausible/analytics#2362&lt;/li&gt;
&lt;li&gt;more email adapters support (Mailgun, Mandrill, SendGrid) plausible/analytics#2649&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Upgrading Plausible Analytics to v2.0&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;‚ö†Ô∏è ‚ö†Ô∏è ‚ö†Ô∏è&lt;/p&gt;
&lt;p&gt;Upgrading to &lt;code&gt;v2.0&lt;/code&gt; requires performing a data migration.
Please read these notes until the end before deploying &lt;code&gt;v2.0.0&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Ensure you are using a new ClickHouse version&lt;/h4&gt;
&lt;p&gt;The steps below have been tested with &lt;a href="https://github.com/plausible/hosting/blob/3e1462eabd510cc9320a6cfed0ae45355d86bb05/docker-compose.yml#L16-L26"&gt;&lt;code&gt;clickhouse/clickhouse-server:22.6-alpine&lt;/code&gt;&lt;/a&gt; please make sure to upgrade ClickHouse to at least this version.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Here's the excerpt from &lt;a href="https://github.com/plausible/analytics/discussions/2507"&gt;&lt;code&gt;v1.5 release discussion&lt;/code&gt;&lt;/a&gt; regarding the ClickHouse upgrade&lt;/summary&gt;

---

In your docker-compose.yml update the image used for plausible_events_db to a newer ClickHouse version:

### Upgrading ClickHouse to 22.6

```diff
plausible_events_db:
- image: yandex/clickhouse-server:21.3.2.5
+ image: clickhouse/clickhouse-server:22.6-alpine
```

#### Restart the container

```console
$ docker compose stop plausible plausible_events_db
$ docker compose rm plausible_events_db
$ docker compose up -d
```

This will boot up the new version of ClickHouse.

Related PR: https://github.com/plausible/hosting/pull/45

---

&lt;/details&gt;

&lt;h4&gt;Update image tag&lt;/h4&gt;
&lt;p&gt;In your &lt;code&gt;docker-compose.yml&lt;/code&gt; update the image used for &lt;code&gt;plausible&lt;/code&gt; to &lt;code&gt;v2.0.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;diff
plausible:
- image: plausible/analytics:v1.5.1
+ image: plausible/analytics:v2.0.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;and restart the container&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ cd hosting
$ docker compose stop plausible
$ docker compose rm plausible
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will boot up the new version of the app.&lt;/p&gt;
&lt;p&gt;If you open the dashboards now, you wouldn't see any past metrics. This is expected as &lt;code&gt;v2.0&lt;/code&gt; uses the new &lt;code&gt;events_v2&lt;/code&gt; and &lt;code&gt;sessions_v2&lt;/code&gt; tables to store analytics data. We need to perform data migration to copy the data into the new tables.&lt;/p&gt;
&lt;h4&gt;Run data migration&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;‚ö†Ô∏è ‚ö†Ô∏è ‚ö†Ô∏è&lt;/p&gt;
&lt;p&gt;You need enough free disk space available for x2 of the current &lt;code&gt;plausible_events_db&lt;/code&gt;'s &lt;code&gt;event-data&lt;/code&gt; volume size. You can use something like &lt;code&gt;docker system df -v | grep hosting_event-data&lt;/code&gt; to check how much space the current volume is occupying.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Connect to the running &lt;code&gt;plausible&lt;/code&gt; container and start the migration flow&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ cd hosting
$ docker compose exec plausible bin/plausible rpc Plausible.DataMigration.NumericIDs.run&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can attempt this migration multiple times unless you drop &lt;code&gt;v1&lt;/code&gt; tables.&lt;/p&gt;
&lt;h4&gt;Drop v1 tables (optional)&lt;/h4&gt;
&lt;p&gt;Once you &lt;strong&gt;verify&lt;/strong&gt; the migration went &lt;strong&gt;well,&lt;/strong&gt; the old tables can be dropped. It's easiest to use &lt;code&gt;clickhouse-client&lt;/code&gt; for this&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ ch hosting
$ docker compose exec plausible_events_db clickhouse-client&lt;/code&gt;
&lt;code&gt;sql
:) \c plausible_events_db
:) show tables;
:) drop table events;
:) drop table sessions;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See https://clickhouse.com/docs/en/operations/server-configuration-parameters/settings#max-table-size-to-drop for how to drop tables with more than 50GB of data.&lt;/p&gt;
&lt;h4&gt;Enable automatic MaxMind GeoLite2 updates (optional)&lt;/h4&gt;
&lt;p&gt;In your &lt;code&gt;plausible-config.env&lt;/code&gt; set &lt;a href="https://www.maxmind.com/en/accounts/current/license-key"&gt;&lt;code&gt;MAXMIND_LICENSE_KEY&lt;/code&gt;&lt;/a&gt; environment variable and get an automatically updated &lt;a href="https://dev.maxmind.com/geoip/geolite2-free-geolocation-data"&gt;GeoLite2 City&lt;/a&gt; geolocation database. The database edition is configurable with &lt;code&gt;MAXMIND_EDITION&lt;/code&gt; environment variable and defaults to &lt;code&gt;GeoLite2-City&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;diff
- IP_GEOLOCATION_DB=...
+ MAXMIND_LICENSE_KEY=LNpsJCCKPis6XvBP
+ MAXMIND_EDITION=GeoLite2-City&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Note that for the changes in &lt;code&gt;plausible-config.env&lt;/code&gt; to propagate to the &lt;code&gt;plausible&lt;/code&gt;, the container needs to be recreated:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console
$ docker compose stop plausible
$ docker compose rm plausible
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Also note that using &lt;code&gt;GeoLite2-City&lt;/code&gt; edition requires more RAM than using &lt;code&gt;GeoLite2-Country&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now you can remove any other volumes and services used to download, store, and update geolocation databases.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;p&gt;Following &lt;a href="https://github.com/plausible/analytics/compare/v1.5.1...v2.0.0"&gt;changes&lt;/a&gt; have been made since v1.5:&lt;/p&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add support for &lt;code&gt;with_imported=true&lt;/code&gt; in Stats API aggregate endpoint&lt;/li&gt;
&lt;li&gt;Ability to use '--' instead of '=' sign in the &lt;code&gt;tagged-events&lt;/code&gt; classnames&lt;/li&gt;
&lt;li&gt;'Last updated X seconds ago' info to 'current visitors' tooltips&lt;/li&gt;
&lt;li&gt;Add support for more Bamboo adapters, i.e. &lt;code&gt;Bamboo.MailgunAdapter&lt;/code&gt;, &lt;code&gt;Bamboo.MandrillAdapter&lt;/code&gt;, &lt;code&gt;Bamboo.SendGridAdapter&lt;/code&gt; plausible/analytics#2649&lt;/li&gt;
&lt;li&gt;Ability to change domain for existing site (requires numeric IDs data migration, instructions will be provided separately) UI + API (&lt;code&gt;PUT /api/v1/sites&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;LOG_FAILED_LOGIN_ATTEMPTS&lt;/code&gt; environment variable to enable failed login attempts logs plausible/analytics#2936&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;MAILER_NAME&lt;/code&gt; environment variable support plausible/analytics#2937&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;MAILGUN_BASE_URI&lt;/code&gt; support for &lt;code&gt;Bamboo.MailgunAdapter&lt;/code&gt; plausible/analytics#2935&lt;/li&gt;
&lt;li&gt;Add a landing page for self-hosters plausible/analytics#2989&lt;/li&gt;
&lt;li&gt;Allow optional IPv6 for clickhouse repo plausible/analytics#2970&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix tracker bug - call callback function even when event is ignored&lt;/li&gt;
&lt;li&gt;Make goal-filtered CSV export return only unique_conversions timeseries in the 'visitors.csv' file&lt;/li&gt;
&lt;li&gt;Stop treating page filter as an entry page filter&lt;/li&gt;
&lt;li&gt;City report showing N/A instead of city names with imported data plausible/analytics#2675&lt;/li&gt;
&lt;li&gt;Empty values for Screen Size, OS and Browser are uniformly replaced with "(not set)"&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/plausible/analytics/issues/1666"&gt;more pageviews with session prop filter than with no filters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cascade delete sent_renewal_notifications table when user is deleted plausible/analytics#2549&lt;/li&gt;
&lt;li&gt;Show appropriate top-stat metric labels on the realtime dashboard when filtering by a goal&lt;/li&gt;
&lt;li&gt;Fix breakdown API pagination when using event metrics plausible/analytics#2562&lt;/li&gt;
&lt;li&gt;Automatically update all visible dashboard reports in the realtime view&lt;/li&gt;
&lt;li&gt;Connect via TLS when using HTTPS scheme in ClickHouse URL plausible/analytics#2570&lt;/li&gt;
&lt;li&gt;Add error message in case a transfer to an invited (but not joined) user is requested plausible/analytics#2651&lt;/li&gt;
&lt;li&gt;Fix bug with &lt;a href="https://github.com/plausible/analytics/issues/1789"&gt;showing property breakdown with a prop filter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix bug when combining goal and prop filters plausible/analytics#2654&lt;/li&gt;
&lt;li&gt;Fix broken favicons when domain includes a slash&lt;/li&gt;
&lt;li&gt;Fix bug when using multiple &lt;a href="https://github.com/plausible/analytics/pull/3015"&gt;wildcard goal filters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix a bug where realtime would fail with imported data&lt;/li&gt;
&lt;li&gt;Fix a bug where the country name was not shown when &lt;a href="https://github.com/plausible/analytics/issues/3086"&gt;filtering through the map&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Treat page filter as entry page filter for &lt;code&gt;bounce_rate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Reject events with long URIs and data URIs plausible/analytics#2536&lt;/li&gt;
&lt;li&gt;Always show direct traffic in sources reports plausible/analytics#2531&lt;/li&gt;
&lt;li&gt;Stop recording XX and T1 country codes plausible/analytics#2556&lt;/li&gt;
&lt;li&gt;Device type is now determined from the User-Agent instead of window.innerWidth plausible/analytics#2711&lt;/li&gt;
&lt;li&gt;Add padding by default to embedded dashboards so that shadows are not cut off plausible/analytics#2744&lt;/li&gt;
&lt;li&gt;Update the User Agents database (https://github.com/matomo-org/device-detector/releases/tag/6.1.1)&lt;/li&gt;
&lt;li&gt;Disable registration in self-hosted setups by default plausible/analytics#3014&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Remove Firewall plug and &lt;code&gt;IP_BLOCKLIST&lt;/code&gt; environment variable&lt;/li&gt;
&lt;li&gt;Remove the ability to collapse the main graph plausible/analytics#2627&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;custom_dimension_filter&lt;/code&gt; feature flag plausible/analytics#2996&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/plausible/analytics/releases/tag/v2.0.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/plausible/analytics/releases/tag/v2.1.0</id>
    <title>New release for Plausible: v2.1.0</title>
    <updated>2024-05-23T06:31:57-04:00</updated>
    <author>
      <name>plausible/analytics</name>
    </author>
    <content>&lt;p&gt;The highlights of this release are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;üéâ Introduction of Community Edition [see below]&lt;/li&gt;
&lt;li&gt;‚¨áÔ∏è GA4 import&lt;/li&gt;
&lt;li&gt;üîÅ CSV data &lt;a href="https://plausible.io/docs/export-stats#export-all-stats-to-date"&gt;export&lt;/a&gt; and &lt;a href="https://plausible.io/docs/csv-import"&gt;import&lt;/a&gt; between self-hosted and cloud&lt;/li&gt;
&lt;li&gt;üîê TOTP for 2FA &lt;a href="https://plausible.io/docs/2fa"&gt;[docs]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;‚úâÔ∏è New SMTP client [see below]&lt;/li&gt;
&lt;li&gt;üîå The new &lt;a href="https://github.com/plausible/wordpress/releases/tag/2.0.0"&gt;WordPress integration&lt;/a&gt; now works better thanks to the Plugin API&lt;/li&gt;
&lt;li&gt;üìö Hosting documentation (now at &lt;a href="https://github.com/plausible/community-edition/tree/v2.1.0"&gt;plausible/community-edition&lt;/a&gt;) got an update and now includes a more thorough Google integration guide&lt;/li&gt;
&lt;li&gt;üìà Sites page got a new look with spark charts 
&lt;img alt="Spark charts" src="https://github.com/plausible/analytics/assets/67764432/7d6830d2-4a5a-49e0-8ce5-05fcfa9b95a7" /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Introduction of Community Edition&lt;/h3&gt;
&lt;p&gt;As of version 2.1.0 this project will split into Plausible Community Edition and Plausible Enterprise Edition. The Community Edition (CE) will remain completely open source under the AGPLv3 license. The Enterprise Edition (EE) will contain extra features that will be published as source-available on Github, but we do not grant rights for anyone else to use, distribute or otherwise exploit these features. Read more &lt;a href="https://plausible.io/blog/community-edition"&gt;here.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As part of this change, we are also rebranding the project. The new logos for CE and EE will be different so as to clarify which version is being referred to or used at any given time.&lt;/p&gt;
&lt;p&gt;And finally as a contributor, you will have to sign a Contributor License Agreement (CLA) in order for your PRs to be considered for merging.&lt;/p&gt;
&lt;h3&gt;Upgrading to v2.1.0&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
This guide assumes you are using &lt;a href="https://github.com/plausible/analytics/discussions/3132"&gt;v2.0.0&lt;/a&gt; and have already run the data migration.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Update config&lt;/h4&gt;
&lt;p&gt;Add a secret key for the new required &lt;code&gt;TOTP_VAULT_KEY&lt;/code&gt; environment variable&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;console&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;console
$ openssl rand -base64 32
aihU7k+GSBKbcVFuX9VEPyUhuwlKEomqA94/SQQ0NR4=&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;plausible-conf.env&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;diff
  BASE_URL=https://plausible.example.com
  SECRET_KEY_BASE=PkVcxRgQDfQyhPETlog3vvCrj5LdYFSv4ejPEJHJO+i/37w6RZfRjeVCpJayjUjJMfXsNurcv5upPhTRoD3KgQ==
+ TOTP_VAULT_KEY=aihU7k+GSBKbcVFuX9VEPyUhuwlKEomqA94/SQQ0NR4=&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This new key is used to encrypt TOTP secrets at rest.&lt;/p&gt;
&lt;h4&gt;Update images&lt;/h4&gt;
&lt;p&gt;Update the images used for &lt;code&gt;plausible&lt;/code&gt; and &lt;code&gt;plausible_events_db&lt;/code&gt; and remove &lt;code&gt;/entrypoint.sh db init-admin&lt;/code&gt; from your &lt;a href="https://github.com/plausible/community-edition/blob/v2.1.0/docker-compose.yml#L28"&gt;&lt;code&gt;plausible.command&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;docker-compose.yml&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;diff
plausible:
- image: plausible/analytics:v2.0.0
- command: sh -c "sleep 10 &amp;amp;&amp;amp; /entrypoint.sh db createdb &amp;amp;&amp;amp; /entrypoint.sh db migrate &amp;amp;&amp;amp; /entrypoint.sh db init-admin &amp;amp;&amp;amp; /entrypoint.sh run"
+ image: ghcr.io/plausible/community-edition:v2.1.0
+ command: sh -c "sleep 10 &amp;amp;&amp;amp; /entrypoint.sh db createdb &amp;amp;&amp;amp; /entrypoint.sh db migrate &amp;amp;&amp;amp; /entrypoint.sh run"&lt;/code&gt;
&lt;code&gt;diff
plausible_events_db:
- image: clickhouse/clickhouse-server:22.6-alpine
+ image: clickhouse/clickhouse-server:24.3.3.102-alpine&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;and restart the containers&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;console&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;console
$ cd hosting
$ docker compose stop plausible plausible_events_db
$ docker compose rm plausible plausible_events_db
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will boot up the new version of the app.&lt;/p&gt;
&lt;h3&gt;New SMTP client&lt;/h3&gt;
&lt;p&gt;If you were having problems with email delivery in the previous versions you can try switching to the new SMTP client by setting &lt;code&gt;MAILER_ADAPTER&lt;/code&gt; to &lt;code&gt;Bamboo.Mua&lt;/code&gt;. All the &lt;code&gt;SMTP_*&lt;/code&gt; environment variables can stay the same.&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;plausible-conf.env&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;diff
  BASE_URL=https://plausible.example.com
  SECRET_KEY_BASE=PkVcxRgQDfQyhPETlog3vvCrj5LdYFSv4ejPEJHJO+i/37w6RZfRjeVCpJayjUjJMfXsNurcv5upPhTRoD3KgQ==
  TOTP_VAULT_KEY=aihU7k+GSBKbcVFuX9VEPyUhuwlKEomqA94/SQQ0NR4=
  SMTP_HOST_ADDR=smtp.gmail.com
  SMTP_HOST_PORT=587
  SMTP_USER_NAME=somebody@gmail.com
  SMTP_USER_PWD="wnqj fkbn jcwc byxk"
+ MAILER_ADAPTER=Bamboo.Mua&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In addition, &lt;a href="https://gist.github.com/ruslandoga/c94ce526231fb77930132aaeda3fc3c9"&gt;here's&lt;/a&gt; a short guide on using your Gmail account for email delivery.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;p&gt;Following &lt;a href="https://github.com/plausible/analytics/compare/v2.0.0...v2.1.0"&gt;changes&lt;/a&gt; have been made since v2.0.0:&lt;/p&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Hostname Allow List in Site Settings&lt;/li&gt;
&lt;li&gt;Pages Block List in Site Settings&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;conversion_rate&lt;/code&gt; to Stats API Timeseries and on the main graph&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;total_conversions&lt;/code&gt; and &lt;code&gt;conversion_rate&lt;/code&gt; to &lt;code&gt;visitors.csv&lt;/code&gt; in a goal-filtered CSV export&lt;/li&gt;
&lt;li&gt;Ability to display total conversions (with a goal filter) on the main graph&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;conversion_rate&lt;/code&gt; to Stats API Timeseries and on the main graph&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;time_on_page&lt;/code&gt; metric into the Stats API&lt;/li&gt;
&lt;li&gt;County Block List in Site Settings&lt;/li&gt;
&lt;li&gt;Query the &lt;code&gt;views_per_visit&lt;/code&gt; metric based on imported data as well if possible&lt;/li&gt;
&lt;li&gt;Group &lt;code&gt;operating_system_versions&lt;/code&gt; by &lt;code&gt;operating_system&lt;/code&gt; in Stats API breakdown&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;operating_system_versions.csv&lt;/code&gt; into the CSV export&lt;/li&gt;
&lt;li&gt;Display &lt;code&gt;Total visitors&lt;/code&gt;, &lt;code&gt;Conversions&lt;/code&gt;, and &lt;code&gt;CR&lt;/code&gt; in the "Details" views of Countries, Regions and Cities (when filtering by a goal)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;conversion_rate&lt;/code&gt; to Regions and Cities reports (when filtering by a goal)&lt;/li&gt;
&lt;li&gt;Add the &lt;code&gt;conversion_rate&lt;/code&gt; metric to Stats API Breakdown and Aggregate endpoints&lt;/li&gt;
&lt;li&gt;IP Block List in Site Settings&lt;/li&gt;
&lt;li&gt;Allow filtering with &lt;code&gt;contains&lt;/code&gt;/&lt;code&gt;matches&lt;/code&gt; operator for Sources, Browsers and Operating Systems.&lt;/li&gt;
&lt;li&gt;Allow filtering by multiple custom properties&lt;/li&gt;
&lt;li&gt;Wildcard and member filtering on the Stats API &lt;code&gt;event:goal&lt;/code&gt; property&lt;/li&gt;
&lt;li&gt;Allow filtering with &lt;code&gt;contains&lt;/code&gt;/&lt;code&gt;matches&lt;/code&gt; operator for custom properties&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;referrers.csv&lt;/code&gt; to CSV export&lt;/li&gt;
&lt;li&gt;Add a new Properties section in the dashboard to break down by custom properties&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;custom_props.csv&lt;/code&gt; to CSV export (almost the same as the old &lt;code&gt;prop_breakdown.csv&lt;/code&gt;, but has different column headers, and includes props for pageviews too, not only custom events)&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;referrers.csv&lt;/code&gt; to CSV export&lt;/li&gt;
&lt;li&gt;Improve password validation in registration and password reset forms&lt;/li&gt;
&lt;li&gt;Adds Gravatar profile image to navbar&lt;/li&gt;
&lt;li&gt;Enforce email reverification on update&lt;/li&gt;
&lt;li&gt;Add Plugins API Tokens provisioning UI&lt;/li&gt;
&lt;li&gt;Add searching sites by domain in /sites view&lt;/li&gt;
&lt;li&gt;Add last 24h plots to /sites view&lt;/li&gt;
&lt;li&gt;Add site pinning to /sites view&lt;/li&gt;
&lt;li&gt;Add support for JSON logger, via LOG_FORMAT=json environment variable&lt;/li&gt;
&lt;li&gt;Add support for 2FA authentication&lt;/li&gt;
&lt;li&gt;Add 'browser_versions.csv' to CSV export&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;CLICKHOUSE_MAX_BUFFER_SIZE_BYTES&lt;/code&gt; env var which defaults to &lt;code&gt;100000&lt;/code&gt; (100KB)&lt;/li&gt;
&lt;li&gt;Add alternative SMTP adapter plausible/analytics#3654&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;EXTRA_CONFIG_PATH&lt;/code&gt; env var to specify extra Elixir config plausible/analytics#3906&lt;/li&gt;
&lt;li&gt;Add restrictive &lt;code&gt;robots.txt&lt;/code&gt; for self-hosted plausible/analytics#3905&lt;/li&gt;
&lt;li&gt;Add Yesterday as an time range option in the dashboard&lt;/li&gt;
&lt;li&gt;Add dmg extension to the list of default tracked file downloads&lt;/li&gt;
&lt;li&gt;Add support for importing Google Analytics 4 data&lt;/li&gt;
&lt;li&gt;Import custom events from Google Analytics 4&lt;/li&gt;
&lt;li&gt;Ability to filter Search Console keywords by page, country and device plausible/analytics#4077&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;DATA_DIR&lt;/code&gt; env var for exports/imports plausible/analytics#4100&lt;/li&gt;
&lt;li&gt;Add custom events support to CSV export and import&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Removed the nested custom event property breakdown UI when filtering by a goal in Goal Conversions&lt;/li&gt;
&lt;li&gt;Removed the &lt;code&gt;prop_names&lt;/code&gt; returned in the Stats API &lt;code&gt;event:goal&lt;/code&gt; breakdown response&lt;/li&gt;
&lt;li&gt;Removed the &lt;code&gt;prop-breakdown.csv&lt;/code&gt; file from CSV export&lt;/li&gt;
&lt;li&gt;Deprecated &lt;code&gt;CLICKHOUSE_MAX_BUFFER_SIZE&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Removed &lt;code&gt;/app/init-admin.sh&lt;/code&gt; that was deprecated in v2.0.0 plausible/analytics#3903&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;DISABLE_AUTH&lt;/code&gt; deprecation warning plausible/analytics#3904&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A visits &lt;code&gt;entry_page&lt;/code&gt; and &lt;code&gt;exit_page&lt;/code&gt; is only set and updated for pageviews, not custom events&lt;/li&gt;
&lt;li&gt;Limit the number of Goal Conversions shown on the dashboard and render a "Details" link when there are more entries to show&lt;/li&gt;
&lt;li&gt;Show Outbound Links / File Downloads / 404 Pages / Cloaked Links instead of Goal Conversions when filtering by the corresponding goal&lt;/li&gt;
&lt;li&gt;Require custom properties to be explicitly added from Site Settings &amp;gt; Custom Properties in order for them to show up on the dashboard&lt;/li&gt;
&lt;li&gt;GA/SC sections moved to new settings: Integrations&lt;/li&gt;
&lt;li&gt;Replace &lt;code&gt;CLICKHOUSE_MAX_BUFFER_SIZE&lt;/code&gt; with &lt;code&gt;CLICKHOUSE_MAX_BUFFER_SIZE_BYTES&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Validate metric isn't queried multiple times&lt;/li&gt;
&lt;li&gt;Filters in dashboard are represented by jsonurl&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Creating many sites no longer leads to cookie overflow&lt;/li&gt;
&lt;li&gt;Ignore sessions without pageviews for &lt;code&gt;entry_page&lt;/code&gt; and &lt;code&gt;exit_page&lt;/code&gt; breakdowns&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;VersionedCollapsingMergeTree&lt;/code&gt; to store visit data to avoid rare race conditions that led to wrong visit data being shown&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;conversion_rate&lt;/code&gt; metric in a &lt;code&gt;browser_versions&lt;/code&gt; breakdown&lt;/li&gt;
&lt;li&gt;Calculate &lt;code&gt;conversion_rate&lt;/code&gt; percentage change in the same way like &lt;code&gt;bounce_rate&lt;/code&gt; (subtraction instead of division)&lt;/li&gt;
&lt;li&gt;Calculate &lt;code&gt;bounce_rate&lt;/code&gt; percentage change in the Stats API in the same way as it's done in the dashboard&lt;/li&gt;
&lt;li&gt;Stop returning custom events in goal breakdown with a pageview goal filter and vice versa&lt;/li&gt;
&lt;li&gt;Only return &lt;code&gt;(none)&lt;/code&gt; values in custom property breakdown for the first page (pagination) of results&lt;/li&gt;
&lt;li&gt;Fixed weekly/monthly e-mail report &lt;a href="https://github.com/plausible/analytics/issues/284"&gt;rendering issues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/plausible/analytics/issues/2982"&gt;broken interval selection&lt;/a&gt; in the all time view plausible/analytics#3110&lt;/li&gt;
&lt;li&gt;Fixed &lt;a href="https://github.com/plausible/analytics/issues/3173"&gt;IPv6 problems&lt;/a&gt; in data migration plausible/analytics#3179&lt;/li&gt;
&lt;li&gt;Fixed &lt;a href="https://github.com/plausible/analytics/issues/3158"&gt;long URLs display&lt;/a&gt; in Outbound Link breakdown view&lt;/li&gt;
&lt;li&gt;Fixed &lt;a href="https://github.com/plausible/analytics/discussions/3166"&gt;Sentry reports&lt;/a&gt; for ingestion requests plausible/analytics#3182&lt;/li&gt;
&lt;li&gt;Fix breakdown pagination bug in the dashboard details view when filtering by goals&lt;/li&gt;
&lt;li&gt;Update bot detection (matomo 6.1.4, ua_inspector 3.4.0)&lt;/li&gt;
&lt;li&gt;Improved the Goal Settings page (search, autcompletion etc.)&lt;/li&gt;
&lt;li&gt;Log mailer errors plausible/analytics#3336&lt;/li&gt;
&lt;li&gt;Allow custom event timeseries in stats API plausible/analytics#3505&lt;/li&gt;
&lt;li&gt;Fixes for sites with UTF characters in domain plausible/analytics#3560&lt;/li&gt;
&lt;li&gt;Fix crash when using special characters in filter plausible/analytics#3634&lt;/li&gt;
&lt;li&gt;Fix automatic scrolling to the bottom on the dashboard if previously selected properties tab plausible/analytics#3872&lt;/li&gt;
&lt;li&gt;Allow running the container with arbitrary UID plausible/analytics#2986&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;width=manual&lt;/code&gt; in embedded dashboards plausible/analytics#3910&lt;/li&gt;
&lt;li&gt;Fix URL escaping when pipes are used in UTM tags plausible/analytics#3930&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/plausible/analytics/releases/tag/v2.1.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/plausible/analytics/releases/tag/v2.1.1</id>
    <title>New release for Plausible: v2.1.1</title>
    <updated>2024-06-06T06:00:20-04:00</updated>
    <author>
      <name>plausible/analytics</name>
    </author>
    <content>&lt;p&gt;This is a patch release with fixes to some of the problems reported in &lt;a href="https://github.com/plausible/analytics/discussions/4125"&gt;v2.1.0&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Upgrading to v2.1.1&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
This guide assumes you are already using &lt;a href="https://github.com/plausible/analytics/discussions/4125"&gt;v2.1.0&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Update images&lt;/h4&gt;
&lt;p&gt;Update the image used for &lt;code&gt;plausible&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;docker-compose.yml&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;diff
plausible:
- image: ghcr.io/plausible/community-edition:v2.1.0
+ image: ghcr.io/plausible/community-edition:v2.1.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;and restart the container&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;kbd&gt;console&lt;/kbd&gt;&lt;/sub&gt;
&lt;code&gt;console
$ cd hosting
$ docker compose stop plausible
$ docker compose rm plausible
$ docker compose up -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will boot up the new version of the app.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;p&gt;Following &lt;a href="https://github.com/plausible/analytics/compare/v2.1.0...v2.1.1"&gt;changes&lt;/a&gt; have been made since v2.1.0:&lt;/p&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Snippet integration verification&lt;/li&gt;
&lt;li&gt;Limited filtering support for imported data in the dashboard and via Stats API&lt;/li&gt;
&lt;li&gt;Automatic sites.imported_data -&amp;gt; site_imports data migration in CE https://github.com/plausible/analytics/pull/4155&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix CSV import by adding a newline to the INSERT statement https://github.com/plausible/analytics/pull/4172&lt;/li&gt;
&lt;li&gt;Fix url parameters escaping of = sign https://github.com/plausible/analytics/pull/4185&lt;/li&gt;
&lt;li&gt;Fix redirect after registration in CE https://github.com/plausible/analytics/pull/4165&lt;/li&gt;
&lt;li&gt;Fix VersionedSessions migration in ClickHouse v24 https://github.com/plausible/analytics/pull/4162&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/plausible/analytics/releases/tag/v2.1.1" rel="alternate"/>
  </entry>
</feed>
