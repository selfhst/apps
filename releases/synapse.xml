<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Synapse Releases</title>
  <updated>2024-10-05T13:31:14.919192-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.112.0</id>
    <title>New release for Synapse: v1.112.0</title>
    <updated>2024-07-30T13:02:48-04:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.112.0 (2024-07-30)&lt;/h1&gt;
&lt;p&gt;This security release is to update our locked dependency on Twisted to 24.7.0rc1, which includes a security fix for &lt;a href="https://github.com/twisted/twisted/security/advisories/GHSA-c8m8-j448-xjx7"&gt;CVE-2024-41671 / GHSA-c8m8-j448-xjx7: Disordered HTTP pipeline response in twisted.web, again&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that this security fix is also available as &lt;strong&gt;Synapse 1.111.1&lt;/strong&gt;, which does not include the rest of the changes in Synapse 1.112.0.&lt;/p&gt;
&lt;p&gt;This issue means that, if multiple HTTP requests are pipelined in the same TCP connection, Synapse can send responses to the wrong HTTP request.
If a reverse proxy was configured to use HTTP pipelining, this could result in responses being sent to the wrong user, severely harming confidentiality.&lt;/p&gt;
&lt;p&gt;With that said, despite being a high severity issue, &lt;strong&gt;we consider it unlikely that Synapse installations will be affected&lt;/strong&gt;.
The use of HTTP pipelining in this fashion would cause worse performance for clients (request-response latencies would be increased as users' responses would be artificially blocked behind other users' slow requests). Further, Nginx and Haproxy, two common reverse proxies, do not appear to support configuring their upstreams to use HTTP pipelining and thus would not be affected. For both of these reasons, we consider it unlikely that a Synapse deployment would be set up in such a configuration.&lt;/p&gt;
&lt;p&gt;Despite that, we cannot rule out that some installations may exist with this unusual setup and so we are releasing this security update today.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;pip users:&lt;/strong&gt; Note that by default, upgrading Synapse using pip will not automatically upgrade Twisted. &lt;strong&gt;Please manually install the new version of Twisted&lt;/strong&gt; using &lt;code&gt;pip install Twisted==24.7.0rc1&lt;/code&gt;. Note also that even the &lt;code&gt;--upgrade-strategy=eager&lt;/code&gt; flag to &lt;code&gt;pip install -U matrix-synapse&lt;/code&gt; will not upgrade Twisted to a patched version because it is only a release candidate at this time.&lt;/p&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Upgrade locked dependency on Twisted to 24.7.0rc1. (&lt;a href="https://github.com/element-hq/synapse/issues/17502"&gt;#17502&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.112.0rc1 (2024-07-23)&lt;/h1&gt;
&lt;p&gt;Please note that this release candidate does not include the security dependency update
included in version 1.111.1 as this version was released before 1.111.1.
The same security fix can be found in the full release of 1.112.0.&lt;/p&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add to-device extension support to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17416"&gt;#17416&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Populate &lt;code&gt;name&lt;/code&gt;/&lt;code&gt;avatar&lt;/code&gt; fields in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17418"&gt;#17418&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Populate &lt;code&gt;heroes&lt;/code&gt; and room summary fields (&lt;code&gt;joined_count&lt;/code&gt;, &lt;code&gt;invited_count&lt;/code&gt;) in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17419"&gt;#17419&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Populate &lt;code&gt;is_dm&lt;/code&gt; room field in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17429"&gt;#17429&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add room subscriptions to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17432"&gt;#17432&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Prepare for authenticated media freeze. (&lt;a href="https://github.com/element-hq/synapse/issues/17433"&gt;#17433&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add E2EE extension support to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17454"&gt;#17454&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add configurable option to always include offline users in presence sync results. Contributed by @Michael-Hollister. (&lt;a href="https://github.com/element-hq/synapse/issues/17231"&gt;#17231&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint when using room type filters and the user has one or more remote invites. (&lt;a href="https://github.com/element-hq/synapse/issues/17434"&gt;#17434&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Order &lt;code&gt;heroes&lt;/code&gt; by &lt;code&gt;stream_ordering&lt;/code&gt; as the Matrix specification states (applies to &lt;code&gt;/sync&lt;/code&gt;). (&lt;a href="https://github.com/element-hq/synapse/issues/17435"&gt;#17435&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix rare bug where &lt;code&gt;/sync&lt;/code&gt; would break for a user when using workers with multiple stream writers. (&lt;a href="https://github.com/element-hq/synapse/issues/17438"&gt;#17438&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update the readme image to have a white background, so that it is readable in dark mode. (&lt;a href="https://github.com/element-hq/synapse/issues/17387"&gt;#17387&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add Red Hat Enterprise Linux and Rocky Linux 8 and 9 installation instructions. (&lt;a href="https://github.com/element-hq/synapse/issues/17423"&gt;#17423&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Improve documentation for the &lt;a href="https://element-hq.github.io/synapse/latest/usage/configuration/config_documentation.html#default_power_level_content_override"&gt;&lt;code&gt;default_power_level_content_override&lt;/code&gt;&lt;/a&gt; config option. (&lt;a href="https://github.com/element-hq/synapse/issues/17451"&gt;#17451&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Make sure we always use the right logic for enabling the media repo. (&lt;a href="https://github.com/element-hq/synapse/issues/17424"&gt;#17424&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix argument documentation for method &lt;code&gt;RateLimiter.record_action&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17426"&gt;#17426&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Reduce volume of 'Waiting for current token' logs, which were introduced in v1.109.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17428"&gt;#17428&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Limit concurrent remote downloads to 6 per IP address, and decrement remote downloads without a content-length from the ratelimiter after the download is complete. (&lt;a href="https://github.com/element-hq/synapse/issues/17439"&gt;#17439&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Remove unnecessary call to resume producing in fake channel. (&lt;a href="https://github.com/element-hq/synapse/issues/17449"&gt;#17449&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint to bump room when it is created. (&lt;a href="https://github.com/element-hq/synapse/issues/17453"&gt;#17453&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up generating sliding sync responses. (&lt;a href="https://github.com/element-hq/synapse/issues/17458"&gt;#17458&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add cache to &lt;code&gt;get_rooms_for_local_user_where_membership_is&lt;/code&gt; to speed up sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17460"&gt;#17460&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up fetching room keys from backup. (&lt;a href="https://github.com/element-hq/synapse/issues/17461"&gt;#17461&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up sorting of the room list in sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17468"&gt;#17468&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Implement handling of &lt;code&gt;$ME&lt;/code&gt; as a state key in sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17469"&gt;#17469&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump bytes from 1.6.0 to 1.6.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17441"&gt;#17441&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump hiredis from 2.3.2 to 3.0.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17464"&gt;#17464&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump jsonschema from 4.22.0 to 4.23.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17444"&gt;#17444&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump matrix-org/done-action from 2 to 3. (&lt;a href="https://github.com/element-hq/synapse/issues/17440"&gt;#17440&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump mypy from 1.9.0 to 1.10.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17445"&gt;#17445&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyopenssl from 24.1.0 to 24.2.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17465"&gt;#17465&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.5.0 to 0.5.4. (&lt;a href="https://github.com/element-hq/synapse/issues/17466"&gt;#17466&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sentry-sdk from 2.6.0 to 2.8.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17456"&gt;#17456&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sentry-sdk from 2.8.0 to 2.10.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17467"&gt;#17467&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump setuptools from 67.6.0 to 70.0.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17448"&gt;#17448&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump twine from 5.1.0 to 5.1.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17443"&gt;#17443&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-jsonschema from 4.22.0.20240610 to 4.23.0.20240712. (&lt;a href="https://github.com/element-hq/synapse/issues/17446"&gt;#17446&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ulid from 1.1.2 to 1.1.3. (&lt;a href="https://github.com/element-hq/synapse/issues/17442"&gt;#17442&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump zipp from 3.15.0 to 3.19.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17427"&gt;#17427&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.112.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.113.0</id>
    <title>New release for Synapse: v1.113.0</title>
    <updated>2024-08-13T10:56:31-04:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.113.0 (2024-08-13)&lt;/h1&gt;
&lt;p&gt;No significant changes since 1.113.0rc1.&lt;/p&gt;
&lt;h1&gt;Synapse 1.113.0rc1 (2024-08-06)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Track which rooms have been sent to clients in the experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17447"&gt;#17447&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add Account Data extension support to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17477"&gt;#17477&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add receipts extension support to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17489"&gt;#17489&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add typing notification extension support to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17505"&gt;#17505&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint to handle invite/knock rooms when filtering. (&lt;a href="https://github.com/element-hq/synapse/issues/17450"&gt;#17450&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix a bug introduced in v1.110.0 which caused &lt;code&gt;/keys/query&lt;/code&gt; to return incomplete results, leading to high network activity and CPU usage on Matrix clients. (&lt;a href="https://github.com/element-hq/synapse/issues/17499"&gt;#17499&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update the &lt;a href="https://element-hq.github.io/synapse/v1.112/usage/configuration/config_documentation.html#allowed_local_3pids"&gt;&lt;code&gt;allowed_local_3pids&lt;/code&gt;&lt;/a&gt; config option's msisdn address to a working example. (&lt;a href="https://github.com/element-hq/synapse/issues/17476"&gt;#17476&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change sliding sync to use their own token format in preparation for storing per-connection state. (&lt;a href="https://github.com/element-hq/synapse/issues/17452"&gt;#17452&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Ensure we don't send down negative &lt;code&gt;bump_stamp&lt;/code&gt; in experimental sliding sync endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17478"&gt;#17478&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Do not send down empty room entries down experimental sliding sync endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17479"&gt;#17479&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor Sliding Sync tests to better utilize the &lt;code&gt;SlidingSyncBase&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17481"&gt;#17481&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17482"&gt;#17482&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add some opentracing tags and logging to the experimental sliding sync implementation. (&lt;a href="https://github.com/element-hq/synapse/issues/17501"&gt;#17501&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Split and move Sliding Sync tests so we have some more sane test file sizes. (&lt;a href="https://github.com/element-hq/synapse/issues/17504"&gt;#17504&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update the &lt;code&gt;limited&lt;/code&gt; field description in the Sliding Sync response to accurately describe what it actually represents. (&lt;a href="https://github.com/element-hq/synapse/issues/17507"&gt;#17507&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Easier to understand &lt;code&gt;timeline&lt;/code&gt; assertions in Sliding Sync tests. (&lt;a href="https://github.com/element-hq/synapse/issues/17511"&gt;#17511&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Reset the sliding sync connection if we don't recognize the per-connection state position. (&lt;a href="https://github.com/element-hq/synapse/issues/17529"&gt;#17529&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump bcrypt from 4.1.3 to 4.2.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17495"&gt;#17495&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump black from 24.4.2 to 24.8.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17522"&gt;#17522&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.39 to 8.13.42. (&lt;a href="https://github.com/element-hq/synapse/issues/17521"&gt;#17521&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.5.4 to 0.5.5. (&lt;a href="https://github.com/element-hq/synapse/issues/17494"&gt;#17494&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.120 to 1.0.121. (&lt;a href="https://github.com/element-hq/synapse/issues/17493"&gt;#17493&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.121 to 1.0.122. (&lt;a href="https://github.com/element-hq/synapse/issues/17525"&gt;#17525&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump towncrier from 23.11.0 to 24.7.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17523"&gt;#17523&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-pyopenssl from 24.1.0.20240425 to 24.1.0.20240722. (&lt;a href="https://github.com/element-hq/synapse/issues/17496"&gt;#17496&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-setuptools from 70.1.0.20240627 to 71.1.0.20240726. (&lt;a href="https://github.com/element-hq/synapse/issues/17497"&gt;#17497&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.113.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.114.0</id>
    <title>New release for Synapse: v1.114.0</title>
    <updated>2024-09-02T13:17:50-04:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.114.0 (2024-09-02)&lt;/h1&gt;
&lt;p&gt;This release enables support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; â€” Simplified Sliding Sync. This allows using the upcoming releases of the Element X mobile apps without having to run a Sliding Sync Proxy.&lt;/p&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Enable native sliding sync support (&lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; and &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt;) by default. (&lt;a href="https://github.com/element-hq/synapse/issues/17648"&gt;#17648&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.114.0rc3 (2024-08-30)&lt;/h1&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix regression in v1.114.0rc2 that caused workers to fail to start. (&lt;a href="https://github.com/element-hq/synapse/issues/17626"&gt;#17626&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.114.0rc2 (2024-08-30)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Improve cross-signing upload when using &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861"&gt;MSC3861&lt;/a&gt; to use a custom UIA flow stage, with web fallback support. (&lt;a href="https://github.com/element-hq/synapse/issues/17509"&gt;#17509&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Make &lt;code&gt;hash_password&lt;/code&gt; script accept password input from stdin. (&lt;a href="https://github.com/element-hq/synapse/issues/17608"&gt;#17608&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix hierarchy returning 403 when room is accessible through federation. Contributed by Krishan (@kfiven). (&lt;a href="https://github.com/element-hq/synapse/issues/17194"&gt;#17194&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix content-length on federation &lt;code&gt;/thumbnail&lt;/code&gt; responses. (&lt;a href="https://github.com/element-hq/synapse/issues/17532"&gt;#17532&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix authenticated media responses using a wrong limit when following redirects over federation. (&lt;a href="https://github.com/element-hq/synapse/issues/17543"&gt;#17543&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;MSC3861: load the issuer and account management URLs from OIDC discovery. (&lt;a href="https://github.com/element-hq/synapse/issues/17407"&gt;#17407&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor sliding sync class into multiple files. (&lt;a href="https://github.com/element-hq/synapse/issues/17595"&gt;#17595&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Store sliding sync per-connection state in the database. (&lt;a href="https://github.com/element-hq/synapse/issues/17599"&gt;#17599&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Make the sliding sync &lt;code&gt;PerConnectionState&lt;/code&gt; class immutable. (&lt;a href="https://github.com/element-hq/synapse/issues/17600"&gt;#17600&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add support to &lt;code&gt;@tag_args&lt;/code&gt; for standalone functions. (&lt;a href="https://github.com/element-hq/synapse/issues/17604"&gt;#17604&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up incremental syncs in sliding sync by adding some more caching. (&lt;a href="https://github.com/element-hq/synapse/issues/17606"&gt;#17606&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Always return the user's own read receipts in sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17617"&gt;#17617&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Replace &lt;code&gt;isort&lt;/code&gt; and &lt;code&gt;black&lt;/code&gt; with &lt;code&gt;ruff&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17620"&gt;#17620&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor sliding sync code to move room list logic out into a separate class. (&lt;a href="https://github.com/element-hq/synapse/issues/17622"&gt;#17622&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump attrs from 23.2.0 to 24.2.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17609"&gt;#17609&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump cryptography from 42.0.8 to 43.0.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17584"&gt;#17584&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.43 to 8.13.44. (&lt;a href="https://github.com/element-hq/synapse/issues/17610"&gt;#17610&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pygithub from 2.3.0 to 2.4.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17612"&gt;#17612&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyyaml from 6.0.1 to 6.0.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17611"&gt;#17611&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sentry-sdk from 2.12.0 to 2.13.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17585"&gt;#17585&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.206 to 1.0.208. (&lt;a href="https://github.com/element-hq/synapse/issues/17581"&gt;#17581&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.208 to 1.0.209. (&lt;a href="https://github.com/element-hq/synapse/issues/17613"&gt;#17613&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.124 to 1.0.125. (&lt;a href="https://github.com/element-hq/synapse/issues/17582"&gt;#17582&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.125 to 1.0.127. (&lt;a href="https://github.com/element-hq/synapse/issues/17614"&gt;#17614&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-jsonschema from 4.23.0.20240712 to 4.23.0.20240813. (&lt;a href="https://github.com/element-hq/synapse/issues/17583"&gt;#17583&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-setuptools from 71.1.0.20240726 to 71.1.0.20240818. (&lt;a href="https://github.com/element-hq/synapse/issues/17586"&gt;#17586&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.114.0rc1 (2024-08-20)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add a flag to &lt;code&gt;/versions&lt;/code&gt;, &lt;code&gt;org.matrix.simplified_msc3575&lt;/code&gt;, to indicate whether experimental sliding sync support has been enabled. (&lt;a href="https://github.com/element-hq/synapse/issues/17571"&gt;#17571&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Handle changes in &lt;code&gt;timeline_limit&lt;/code&gt; in experimental sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17579"&gt;#17579&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Correctly track read receipts that should be sent down in experimental sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17575"&gt;#17575&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17589"&gt;#17589&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17592"&gt;#17592&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Start handlers for new media endpoints when media resource configured. (&lt;a href="https://github.com/element-hq/synapse/issues/17483"&gt;#17483&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix timeline ordering (using &lt;code&gt;stream_ordering&lt;/code&gt; instead of topological ordering) in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17510"&gt;#17510&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix experimental sliding sync implementation to remember any updates in rooms that were not sent down immediately. (&lt;a href="https://github.com/element-hq/synapse/issues/17535"&gt;#17535&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Better exclude partially stated rooms if we must await full state in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17538"&gt;#17538&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Handle lower-case http headers in &lt;code&gt;_Mulitpart_Parser_Protocol&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17545"&gt;#17545&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix fetching federation signing keys from servers that omit &lt;code&gt;old_verify_keys&lt;/code&gt;. Contributed by @tulir @ Beeper. (&lt;a href="https://github.com/element-hq/synapse/issues/17568"&gt;#17568&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug where we would respond with an error when a remote server asked for media that had a length of 0, using the new multipart federation media endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17570"&gt;#17570&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Clarify default behaviour of the
  &lt;a href="https://element-hq.github.io/synapse/develop/usage/configuration/config_documentation.html#auto-accept-invites"&gt;&lt;code&gt;auto_accept_invites.worker_to_run_on&lt;/code&gt;&lt;/a&gt;
  option. (&lt;a href="https://github.com/element-hq/synapse/issues/17515"&gt;#17515&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Improve docstrings for profile methods. (&lt;a href="https://github.com/element-hq/synapse/issues/17559"&gt;#17559&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add more tracing to experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint. (&lt;a href="https://github.com/element-hq/synapse/issues/17514"&gt;#17514&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fixup comment in sliding sync implementation. (&lt;a href="https://github.com/element-hq/synapse/issues/17531"&gt;#17531&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Replace override of deprecated method &lt;code&gt;HTTPAdapter.get_connection&lt;/code&gt; with &lt;code&gt;get_connection_with_tls_context&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17536"&gt;#17536&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix performance of device lists in &lt;code&gt;/key/changes&lt;/code&gt; and sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17537"&gt;#17537&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17548"&gt;#17548&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump setuptools from 67.6.0 to 72.1.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17542"&gt;#17542&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add a utility function for generating random event IDs. (&lt;a href="https://github.com/element-hq/synapse/issues/17557"&gt;#17557&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up responding to media requests. (&lt;a href="https://github.com/element-hq/synapse/issues/17558"&gt;#17558&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17561"&gt;#17561&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17564"&gt;#17564&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17566"&gt;#17566&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17567"&gt;#17567&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17569"&gt;#17569&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Test github token before running release script steps. (&lt;a href="https://github.com/element-hq/synapse/issues/17562"&gt;#17562&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Reduce log spam of multipart files. (&lt;a href="https://github.com/element-hq/synapse/issues/17563"&gt;#17563&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor per-connection state in experimental sliding sync handler. (&lt;a href="https://github.com/element-hq/synapse/issues/17574"&gt;#17574&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add histogram metrics for sliding sync processing time. (&lt;a href="https://github.com/element-hq/synapse/issues/17593"&gt;#17593&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump bytes from 1.6.1 to 1.7.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17526"&gt;#17526&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump lxml from 5.2.2 to 5.3.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17550"&gt;#17550&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.42 to 8.13.43. (&lt;a href="https://github.com/element-hq/synapse/issues/17551"&gt;#17551&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump regex from 1.10.5 to 1.10.6. (&lt;a href="https://github.com/element-hq/synapse/issues/17527"&gt;#17527&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sentry-sdk from 2.10.0 to 2.12.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17553"&gt;#17553&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.204 to 1.0.206. (&lt;a href="https://github.com/element-hq/synapse/issues/17556"&gt;#17556&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.122 to 1.0.124. (&lt;a href="https://github.com/element-hq/synapse/issues/17555"&gt;#17555&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sigstore/cosign-installer from 3.5.0 to 3.6.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17549"&gt;#17549&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-pyyaml from 6.0.12.20240311 to 6.0.12.20240808. (&lt;a href="https://github.com/element-hq/synapse/issues/17552"&gt;#17552&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-requests from 2.31.0.20240406 to 2.32.0.20240712. (&lt;a href="https://github.com/element-hq/synapse/issues/17524"&gt;#17524&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.114.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.115.0</id>
    <title>New release for Synapse: v1.115.0</title>
    <updated>2024-09-17T10:17:54-04:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.115.0 (2024-09-17)&lt;/h1&gt;
&lt;p&gt;No significant changes since 1.115.0rc2.&lt;/p&gt;
&lt;h1&gt;Synapse 1.115.0rc2 (2024-09-12)&lt;/h1&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Pre-populate room data used in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint for quick filtering/sorting. (&lt;a href="https://github.com/element-hq/synapse/issues/17652"&gt;#17652&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up sliding sync by reducing amount of data pulled out of the database for large rooms. (&lt;a href="https://github.com/element-hq/synapse/issues/17683"&gt;#17683&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.115.0rc1 (2024-09-10)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Improve cross-signing upload when using &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861"&gt;MSC3861&lt;/a&gt; to use a custom UIA flow stage, with web fallback support. (&lt;a href="https://github.com/element-hq/synapse/issues/17509"&gt;#17509&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Return &lt;code&gt;400 M_BAD_JSON&lt;/code&gt; upon attempting to complete various room actions with a non-local user ID and unknown room ID, rather than an internal server error. (&lt;a href="https://github.com/element-hq/synapse/issues/17607"&gt;#17607&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix authenticated media responses using a wrong limit when following redirects over federation. (&lt;a href="https://github.com/element-hq/synapse/issues/17626"&gt;#17626&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug where we returned the wrong &lt;code&gt;bump_stamp&lt;/code&gt; for invites in sliding sync response, causing incorrect ordering of invites in the room list. (&lt;a href="https://github.com/element-hq/synapse/issues/17674"&gt;#17674&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that the admin api resource is only loaded on the main process and not workers. (&lt;a href="https://github.com/element-hq/synapse/issues/17590"&gt;#17590&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fixed typo in &lt;code&gt;saml2_config&lt;/code&gt; config &lt;a href="https://element-hq.github.io/synapse/latest/usage/configuration/config_documentation.html#saml2_config"&gt;example&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17594"&gt;#17594&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecations and Removals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Stabilise &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4156"&gt;MSC4156&lt;/a&gt; by removing the &lt;code&gt;msc4156_enabled&lt;/code&gt; config setting and defaulting it to &lt;code&gt;true&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17650"&gt;#17650&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Update &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861"&gt;MSC3861&lt;/a&gt; implementation: load the issuer and account management URLs from OIDC discovery. (&lt;a href="https://github.com/element-hq/synapse/issues/17407"&gt;#17407&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Pre-populate room data used in experimental &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575"&gt;MSC3575&lt;/a&gt; Sliding Sync &lt;code&gt;/sync&lt;/code&gt; endpoint for quick filtering/sorting. (&lt;a href="https://github.com/element-hq/synapse/issues/17512"&gt;#17512&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17632"&gt;#17632&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17633"&gt;#17633&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17634"&gt;#17634&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17635"&gt;#17635&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17636"&gt;#17636&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17641"&gt;#17641&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17654"&gt;#17654&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17673"&gt;#17673&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Store sliding sync per-connection state in the database. (&lt;a href="https://github.com/element-hq/synapse/issues/17599"&gt;#17599&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17631"&gt;#17631&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Make the sliding sync &lt;code&gt;PerConnectionState&lt;/code&gt; class immutable. (&lt;a href="https://github.com/element-hq/synapse/issues/17600"&gt;#17600&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Replace &lt;code&gt;isort&lt;/code&gt; and &lt;code&gt;black&lt;/code&gt; with &lt;code&gt;ruff&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17620"&gt;#17620&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17643"&gt;#17643&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Sliding Sync: Split up &lt;code&gt;get_room_membership_for_user_at_to_token&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17629"&gt;#17629&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use new database tables for sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17630"&gt;#17630&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17649"&gt;#17649&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Prevent duplicate tags being added to Sliding Sync traces. (&lt;a href="https://github.com/element-hq/synapse/issues/17655"&gt;#17655&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Get &lt;code&gt;bump_stamp&lt;/code&gt; from &lt;a href="https://github.com/element-hq/synapse/pull/17512"&gt;new sliding sync tables&lt;/a&gt; which should be faster. (&lt;a href="https://github.com/element-hq/synapse/issues/17658"&gt;#17658&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up incremental Sliding Sync requests by avoiding extra work. (&lt;a href="https://github.com/element-hq/synapse/issues/17665"&gt;#17665&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Small performance improvement in speeding up sliding sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17666"&gt;#17666&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17670"&gt;#17670&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17672"&gt;#17672&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up sliding sync by reducing number of database calls. (&lt;a href="https://github.com/element-hq/synapse/issues/17684"&gt;#17684&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up sync by pulling out fewer events from the database. (&lt;a href="https://github.com/element-hq/synapse/issues/17688"&gt;#17688&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump authlib from 1.3.1 to 1.3.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17679"&gt;#17679&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump idna from 3.7 to 3.8. (&lt;a href="https://github.com/element-hq/synapse/issues/17682"&gt;#17682&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.6.2 to 0.6.4. (&lt;a href="https://github.com/element-hq/synapse/issues/17680"&gt;#17680&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump towncrier from 24.7.1 to 24.8.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17645"&gt;#17645&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump twisted from 24.7.0rc1 to 24.7.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17647"&gt;#17647&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-pillow from 10.2.0.20240520 to 10.2.0.20240822. (&lt;a href="https://github.com/element-hq/synapse/issues/17644"&gt;#17644&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-psycopg2 from 2.9.21.20240417 to 2.9.21.20240819. (&lt;a href="https://github.com/element-hq/synapse/issues/17646"&gt;#17646&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-setuptools from 71.1.0.20240818 to 74.1.0.20240907. (&lt;a href="https://github.com/element-hq/synapse/issues/17681"&gt;#17681&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.115.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.116.0</id>
    <title>New release for Synapse: v1.116.0</title>
    <updated>2024-10-01T07:08:57-04:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.116.0 (2024-10-01)&lt;/h1&gt;
&lt;p&gt;No significant changes since 1.116.0rc2.&lt;/p&gt;
&lt;h1&gt;Synapse 1.116.0rc2 (2024-09-26)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add implementation of restricting who can overwrite a state event as proposed by &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3757"&gt;MSC3757&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17513"&gt;#17513&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.116.0rc1 (2024-09-25)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add initial implementation of delayed events as proposed by &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4140"&gt;MSC4140&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17326"&gt;#17326&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add an asynchronous Admin API endpoint &lt;a href="https://element-hq.github.io/synapse/v1.116/admin_api/user_admin_api.html#redact-all-the-events-of-a-user"&gt;to redact all a user's events&lt;/a&gt;,
  and &lt;a href="https://element-hq.github.io/synapse/v1.116/admin_api/user_admin_api.html#check-the-status-of-a-redaction-process"&gt;an endpoint to check on the status of that redaction task&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17506"&gt;#17506&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add support for the &lt;code&gt;tags&lt;/code&gt; and &lt;code&gt;not_tags&lt;/code&gt; filters for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17662"&gt;#17662&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Guests can use the new media endpoints to download media, as described by &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4189"&gt;MSC4189&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17675"&gt;#17675&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add config option &lt;code&gt;turn_shared_secret_path&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17690"&gt;#17690&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Return room tags in &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync account data extension. (&lt;a href="https://github.com/element-hq/synapse/issues/17707"&gt;#17707&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Make sure we get up-to-date state information when using the new &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync tables to derive room membership. (&lt;a href="https://github.com/element-hq/synapse/issues/17692"&gt;#17692&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug where room account data would not correctly be sent down &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync for old rooms. (&lt;a href="https://github.com/element-hq/synapse/issues/17695"&gt;#17695&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix a bug in &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync which could prevent /sync from working for certain user accounts. (&lt;a href="https://github.com/element-hq/synapse/issues/17727"&gt;#17727&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17733"&gt;#17733&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Ignore invites from ignored users in Sliding Sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17729"&gt;#17729&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug in &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync where the server would incorrectly return a negative bump stamp, which caused Element X apps to stop syncing. (&lt;a href="https://github.com/element-hq/synapse/issues/17748"&gt;#17748&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Import pydantic objects from the &lt;code&gt;_pydantic_compat&lt;/code&gt; module.
  This allows &lt;code&gt;check_pydantic_models.py&lt;/code&gt; to mock those pydantic objects
  only in the synapse module, and not interfere with pydantic objects in
  external dependencies. (&lt;a href="https://github.com/element-hq/synapse/issues/17667"&gt;#17667&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync tables as a bulk shortcut for getting the max &lt;code&gt;event_stream_ordering&lt;/code&gt; of rooms. (&lt;a href="https://github.com/element-hq/synapse/issues/17693"&gt;#17693&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; sliding sync requests a bit where there are many room changes. (&lt;a href="https://github.com/element-hq/synapse/issues/17696"&gt;#17696&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; sliding sync filter unit tests so the sliding sync API has better test coverage. (&lt;a href="https://github.com/element-hq/synapse/issues/17703"&gt;#17703&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fetch &lt;code&gt;bump_stamp&lt;/code&gt;s more efficiently in &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17723"&gt;#17723&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Shortcut for checking if certain background updates have completed (utilized in &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync). (&lt;a href="https://github.com/element-hq/synapse/issues/17724"&gt;#17724&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;More efficiently fetch rooms for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17725"&gt;#17725&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;_bulk_get_max_event_pos&lt;/code&gt; being inefficient. (&lt;a href="https://github.com/element-hq/synapse/issues/17728"&gt;#17728&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add cache to &lt;code&gt;get_tags_for_room(...)&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17730"&gt;#17730&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Small performance improvement in speeding up &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync. (&lt;a href="https://github.com/element-hq/synapse/issues/17731"&gt;#17731&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Minor speed up of initial &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; sliding sync requests. (&lt;a href="https://github.com/element-hq/synapse/issues/17734"&gt;#17734&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Remove usage of the deprecated &lt;code&gt;cgi&lt;/code&gt; module, deprecated in Python 3.11 and removed in Python 3.13. (&lt;a href="https://github.com/element-hq/synapse/issues/17741"&gt;#17741&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix typing of a variable that is not &lt;code&gt;Unknown&lt;/code&gt; anymore after updating &lt;code&gt;treq&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17744"&gt;#17744&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump anyhow from 1.0.86 to 1.0.89. (&lt;a href="https://github.com/element-hq/synapse/issues/17685"&gt;#17685&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17716"&gt;#17716&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump bytes from 1.7.1 to 1.7.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17743"&gt;#17743&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump cryptography from 43.0.0 to 43.0.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17689"&gt;#17689&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump idna from 3.8 to 3.10. (&lt;a href="https://github.com/element-hq/synapse/issues/17758"&gt;#17758&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump msgpack from 1.0.8 to 1.1.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17759"&gt;#17759&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.44 to 8.13.45. (&lt;a href="https://github.com/element-hq/synapse/issues/17762"&gt;#17762&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump prometheus-client from 0.20.0 to 0.21.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17746"&gt;#17746&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyasn1 from 0.6.0 to 0.6.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17714"&gt;#17714&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyasn1-modules from 0.4.0 to 0.4.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17747"&gt;#17747&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pydantic from 2.8.2 to 2.9.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17756"&gt;#17756&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump python-multipart from 0.0.9 to 0.0.10. (&lt;a href="https://github.com/element-hq/synapse/issues/17745"&gt;#17745&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.6.4 to 0.6.7. (&lt;a href="https://github.com/element-hq/synapse/issues/17715"&gt;#17715&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17760"&gt;#17760&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump sentry-sdk from 2.13.0 to 2.14.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17712"&gt;#17712&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.209 to 1.0.210. (&lt;a href="https://github.com/element-hq/synapse/issues/17686"&gt;#17686&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.127 to 1.0.128. (&lt;a href="https://github.com/element-hq/synapse/issues/17687"&gt;#17687&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump treq from 23.11.0 to 24.9.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17744"&gt;#17744&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-pyyaml from 6.0.12.20240808 to 6.0.12.20240917. (&lt;a href="https://github.com/element-hq/synapse/issues/17755"&gt;#17755&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-requests from 2.32.0.20240712 to 2.32.0.20240914. (&lt;a href="https://github.com/element-hq/synapse/issues/17713"&gt;#17713&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-setuptools from 74.1.0.20240907 to 75.1.0.20240917. (&lt;a href="https://github.com/element-hq/synapse/issues/17757"&gt;#17757&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.116.0" rel="alternate"/>
  </entry>
</feed>
