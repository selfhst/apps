<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Synapse Releases</title>
  <updated>2024-12-13T05:31:27.531066-05:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.119.0</id>
    <title>New release for Synapse: v1.119.0</title>
    <updated>2024-11-13T10:43:08-05:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.119.0 (2024-11-13)&lt;/h1&gt;
&lt;p&gt;No significant changes since 1.119.0rc2.&lt;/p&gt;
&lt;h3&gt;Python 3.8 support dropped&lt;/h3&gt;
&lt;p&gt;Python 3.8 is &lt;a href="https://devguide.python.org/versions/"&gt;end-of-life&lt;/a&gt; and is no longer supported by Synapse. The minimum supported Python version is now 3.9.&lt;/p&gt;
&lt;p&gt;If you are running Synapse with Python 3.8, please upgrade to Python 3.9 (or greater) before upgrading Synapse.&lt;/p&gt;
&lt;h1&gt;Synapse 1.119.0rc2 (2024-11-11)&lt;/h1&gt;
&lt;p&gt;Note that due to packaging issues there was no v1.119.0rc1.&lt;/p&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Support &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4151"&gt;MSC4151&lt;/a&gt;'s stable report room API. (&lt;a href="https://github.com/element-hq/synapse/issues/17374"&gt;#17374&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add experimental support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4222"&gt;MSC4222&lt;/a&gt; (Adding &lt;code&gt;state_after&lt;/code&gt; to sync v2). (&lt;a href="https://github.com/element-hq/synapse/issues/17888"&gt;#17888&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix bug with sliding sync where &lt;code&gt;$LAZY&lt;/code&gt;-loading room members would not return &lt;code&gt;required_state&lt;/code&gt; membership in incremental syncs. (&lt;a href="https://github.com/element-hq/synapse/issues/17809"&gt;#17809&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Check if user has membership in a room before tagging it. Contributed by Lama Alosaimi. (&lt;a href="https://github.com/element-hq/synapse/issues/17839"&gt;#17839&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix a bug in the admin redact endpoint where the background task would not run if a worker was specified in
  the config option &lt;code&gt;run_background_tasks_on&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17847"&gt;#17847&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix bug where some presence and typing timeouts can expire early. (&lt;a href="https://github.com/element-hq/synapse/issues/17850"&gt;#17850&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix detection when the built Rust library was outdated when using source installations. (&lt;a href="https://github.com/element-hq/synapse/issues/17861"&gt;#17861&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix a long-standing bug in Synapse which could cause one-time keys to be issued in the incorrect order, causing message decryption failures. (&lt;a href="https://github.com/element-hq/synapse/pull/17903"&gt;#17903&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix experimental support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4222"&gt;MSC4222&lt;/a&gt; (Adding &lt;code&gt;state_after&lt;/code&gt; to sync v2) where we would return the full state on incremental syncs when using lazy loaded members and there were no new events in the timeline. (&lt;a href="https://github.com/element-hq/synapse/pull/17915"&gt;#17915&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Remove support for python 3.8. (&lt;a href="https://github.com/element-hq/synapse/issues/17908"&gt;#17908&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add a test for downloading and thumbnailing a CMYK JPEG. (&lt;a href="https://github.com/element-hq/synapse/issues/17786"&gt;#17786&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Refactor database calls to remove &lt;code&gt;Generator&lt;/code&gt; usage. (&lt;a href="https://github.com/element-hq/synapse/issues/17813"&gt;#17813&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17814"&gt;#17814&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17815"&gt;#17815&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17816"&gt;#17816&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17817"&gt;#17817&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17818"&gt;#17818&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17890"&gt;#17890&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Include the destination in the error of 'Destination mismatch' on federation requests. (&lt;a href="https://github.com/element-hq/synapse/issues/17830"&gt;#17830&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The nix flake inside the repository no longer tracks nixpkgs/master to not catch the latest bugs from a PR merged 5 minutes ago. (&lt;a href="https://github.com/element-hq/synapse/issues/17852"&gt;#17852&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Minor speed-up of sliding sync by computing extensions results in parallel. (&lt;a href="https://github.com/element-hq/synapse/issues/17884"&gt;#17884&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump the default Python version in the Synapse Dockerfile from 3.11 -&amp;gt; 3.12. (&lt;a href="https://github.com/element-hq/synapse/issues/17887"&gt;#17887&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Remove usage of internal header encoding API. (&lt;a href="https://github.com/element-hq/synapse/issues/17894"&gt;#17894&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use unique name for each os.arch variant when uploading Wheel artifacts. (&lt;a href="https://github.com/element-hq/synapse/issues/17905"&gt;#17905&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix tests to run with latest Twisted. (&lt;a href="https://github.com/element-hq/synapse/pull/17906"&gt;#17906&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/pull/17907"&gt;#17907&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/pull/17911"&gt;#17911&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update version constraint to allow the latest poetry-core 1.9.1. (&lt;a href="https://github.com/element-hq/synapse/pull/17902"&gt;#17902&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update the portdb CI to use Python 3.13 and Postgres 17 as latest dependencies. (&lt;a href="https://github.com/element-hq/synapse/pull/17909"&gt;#17909&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add an index to &lt;code&gt;current_state_delta_stream&lt;/code&gt; table. (&lt;a href="https://github.com/element-hq/synapse/issues/17912"&gt;#17912&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix building and attaching release artifacts during the release process. (&lt;a href="https://github.com/element-hq/synapse/issues/17921"&gt;#17921&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump actions/download-artifact &amp;amp; actions/upload-artifact from 3 to 4 in /.github/workflows. (&lt;a href="https://github.com/element-hq/synapse/issues/17657"&gt;#17657&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump anyhow from 1.0.89 to 1.0.92. (&lt;a href="https://github.com/element-hq/synapse/issues/17858"&gt;#17858&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17876"&gt;#17876&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17901"&gt;#17901&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump bytes from 1.7.2 to 1.8.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17877"&gt;#17877&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump cryptography from 43.0.1 to 43.0.3. (&lt;a href="https://github.com/element-hq/synapse/issues/17853"&gt;#17853&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump mypy-zope from 1.0.7 to 1.0.8. (&lt;a href="https://github.com/element-hq/synapse/issues/17898"&gt;#17898&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.47 to 8.13.49. (&lt;a href="https://github.com/element-hq/synapse/issues/17880"&gt;#17880&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17899"&gt;#17899&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump python-multipart from 0.0.12 to 0.0.16. (&lt;a href="https://github.com/element-hq/synapse/issues/17879"&gt;#17879&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump regex from 1.11.0 to 1.11.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17874"&gt;#17874&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.6.9 to 0.7.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17868"&gt;#17868&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17897"&gt;#17897&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.210 to 1.0.214. (&lt;a href="https://github.com/element-hq/synapse/issues/17875"&gt;#17875&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17900"&gt;#17900&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.128 to 1.0.132. (&lt;a href="https://github.com/element-hq/synapse/issues/17857"&gt;#17857&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-psycopg2 from 2.9.21.20240819 to 2.9.21.20241019. (&lt;a href="https://github.com/element-hq/synapse/issues/17855"&gt;#17855&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump types-setuptools from 75.1.0.20241014 to 75.2.0.20241019. (&lt;a href="https://github.com/element-hq/synapse/issues/17856"&gt;#17856&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.119.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.120.0</id>
    <title>New release for Synapse: v1.120.0</title>
    <updated>2024-11-26T09:17:30-05:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.120.0 (2024-11-26)&lt;/h1&gt;
&lt;p&gt;This release enables the enforcement of authenticated media by default, with exemptions for media that is already present in the
homeserver's media store.&lt;/p&gt;
&lt;p&gt;Most homeservers operating in the public federation will not be impacted by this change, given that
the large homeserver &lt;code&gt;matrix.org&lt;/code&gt; enabled this in September 2024 and therefore most clients and servers
will already have updated as a result.&lt;/p&gt;
&lt;p&gt;Some server administrators may still wish to disable this enforcement for the time being, in the interest of compatibility with older clients
and older federated homeservers.
See the &lt;a href="https://element-hq.github.io/synapse/v1.120/upgrade.html#authenticated-media-is-now-enforced-by-default"&gt;upgrade notes&lt;/a&gt; for more information.&lt;/p&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix a bug introduced in Synapse v1.120rc1 which would cause the newly-introduced &lt;code&gt;delete_old_otks&lt;/code&gt; job to fail in worker-mode deployments. (&lt;a href="https://github.com/element-hq/synapse/issues/17960"&gt;#17960&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.120.0rc1 (2024-11-20)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Enforce authenticated media by default. Administrators can revert this by configuring &lt;code&gt;enable_authenticated_media&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt;. In a future release of Synapse, this option will be removed and become always-on. (&lt;a href="https://github.com/element-hq/synapse/issues/17889"&gt;#17889&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add a one-off task to delete old One-Time Keys, to guard against us having old OTKs in the database that the client has long forgotten about. (&lt;a href="https://github.com/element-hq/synapse/issues/17934"&gt;#17934&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Clarify the semantics of the &lt;code&gt;enable_authenticated_media&lt;/code&gt; configuration option. (&lt;a href="https://github.com/element-hq/synapse/issues/17913"&gt;#17913&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Add documentation about backing up Synapse. (&lt;a href="https://github.com/element-hq/synapse/issues/17931"&gt;#17931&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecations and Removals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Remove support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3886"&gt;MSC3886: Simple client rendezvous capability&lt;/a&gt;, which has been superseded by &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4108"&gt;MSC4108&lt;/a&gt; and therefore closed. (&lt;a href="https://github.com/element-hq/synapse/issues/17638"&gt;#17638&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Addressed some typos in docs and returned error message for unknown MXC ID. (&lt;a href="https://github.com/element-hq/synapse/issues/17865"&gt;#17865&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Unpin the upload release GHA action. (&lt;a href="https://github.com/element-hq/synapse/issues/17923"&gt;#17923&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump macOS version used to build wheels during release, as current version used is end-of-life. (&lt;a href="https://github.com/element-hq/synapse/issues/17924"&gt;#17924&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Move server event filtering logic to Rust. (&lt;a href="https://github.com/element-hq/synapse/issues/17928"&gt;#17928&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Support new package name of PyPI package &lt;code&gt;python-multipart&lt;/code&gt; 0.0.13 so that distro packagers do not need to work around name conflict with PyPI package &lt;code&gt;multipart&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17932"&gt;#17932&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speed up slow initial sliding syncs on large servers. (&lt;a href="https://github.com/element-hq/synapse/issues/17946"&gt;#17946&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump anyhow from 1.0.92 to 1.0.93. (&lt;a href="https://github.com/element-hq/synapse/issues/17920"&gt;#17920&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump bleach from 6.1.0 to 6.2.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17918"&gt;#17918&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump immutabledict from 4.2.0 to 4.2.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17941"&gt;#17941&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump packaging from 24.1 to 24.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17940"&gt;#17940&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump phonenumbers from 8.13.49 to 8.13.50. (&lt;a href="https://github.com/element-hq/synapse/issues/17942"&gt;#17942&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pygithub from 2.4.0 to 2.5.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17917"&gt;#17917&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump ruff from 0.7.2 to 0.7.3. (&lt;a href="https://github.com/element-hq/synapse/issues/17919"&gt;#17919&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde from 1.0.214 to 1.0.215. (&lt;a href="https://github.com/element-hq/synapse/issues/17938"&gt;#17938&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.120.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.120.2</id>
    <title>New release for Synapse: v1.120.2</title>
    <updated>2024-12-03T11:27:41-05:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.120.2 (2024-12-03)&lt;/h1&gt;
&lt;p&gt;This version has building of wheels for macOS disabled.
It is functionally identical to 1.120.1, which contains &lt;strong&gt;multiple security fixes&lt;/strong&gt;.
If you are already using 1.120.1, there is no need to upgrade to this version.&lt;/p&gt;
&lt;h1&gt;Synapse 1.120.1 (2024-12-03)&lt;/h1&gt;
&lt;p&gt;This patch release fixes multiple security vulnerabilities, some affecting all prior versions of Synapse. Server administrators are encouraged to update Synapse as soon as possible. We are not aware of these vulnerabilities being exploited in the wild.&lt;/p&gt;
&lt;p&gt;Administrators who are unable to update Synapse may use the workarounds described in the linked GitHub Security Advisory below.&lt;/p&gt;
&lt;h3&gt;Security advisory&lt;/h3&gt;
&lt;p&gt;The following issues are fixed in 1.120.1.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-rfq8-j7rh-8hf2"&gt;GHSA-rfq8-j7rh-8hf2&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-52805"&gt;CVE-2024-52805&lt;/a&gt; (high): &lt;strong&gt;Unsupported content types can lead to memory exhaustion&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Synapse instances which have a high &lt;code&gt;max_upload_size&lt;/code&gt; and which don't have a reverse proxy in front of them that would otherwise limit upload size are affected.&lt;/p&gt;
&lt;p&gt;Fixed by &lt;a href="https://github.com/element-hq/synapse/commit/4b7154c58501b4bf5e1c2d6c11ebef96529f2fdf"&gt;4b7154c58501b4bf5e1c2d6c11ebef96529f2fdf&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-f3r3-h2mq-hx2h"&gt;GHSA-f3r3-h2mq-hx2h&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-52815"&gt;CVE-2024-52815&lt;/a&gt; (high): &lt;strong&gt;Malicious invites via federation can break a user's sync&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fixed by &lt;a href="https://github.com/element-hq/synapse/commit/d82e1ed357b7ee21dff83d06cba7a67840cfd464"&gt;d82e1ed357b7ee21dff83d06cba7a67840cfd464&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-vp6v-whfm-rv3g"&gt;GHSA-vp6v-whfm-rv3g&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-53863"&gt;CVE-2024-53863&lt;/a&gt; (high): &lt;strong&gt;Synapse can be forced to thumbnail unexpected file formats, invoking potentially untrustworthy decoders&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Synapse instances can disable dynamic thumbnailing by setting &lt;code&gt;dynamic_thumbnails&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in the configuration file.&lt;/p&gt;
&lt;p&gt;Fixed by &lt;a href="https://github.com/element-hq/synapse/commit/b64a4e5fbbbf119b6c65aedf0d999b4237d55503"&gt;b64a4e5fbbbf119b6c65aedf0d999b4237d55503&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-56w4-5538-8v8h"&gt;GHSA-56w4-5538-8v8h&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-53867"&gt;CVE-2024-53867&lt;/a&gt; (moderate): &lt;strong&gt;The Sliding Sync feature on Synapse versions between 1.113.0rc1 and 1.120.0 can leak partial room state changes to users no longer in a room&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Non-state events, like messages, are unaffected.&lt;/p&gt;
&lt;p&gt;Synapse instances can disable the Sliding Sync feature by setting &lt;code&gt;experimental_features.msc3575_enabled&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in the configuration file.&lt;/p&gt;
&lt;p&gt;Fixed by &lt;a href="https://github.com/element-hq/synapse/commit/4daa533e82f345ce87b9495d31781af570ba3ead"&gt;4daa533e82f345ce87b9495d31781af570ba3ead&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additionally, we disclose the following vulnerabilities, both have been fixed in Synapse 1.106.0:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-4mhg-xv73-xq2x"&gt;GHSA-4mhg-xv73-xq2x&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-37302"&gt;CVE-2024-37302&lt;/a&gt; (high): &lt;strong&gt;Denial of service through media disk space consumption&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/element-hq/synapse/security/advisories/GHSA-gjgr-7834-rhxr"&gt;GHSA-gjgr-7834-rhxr&lt;/a&gt; / &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-37303"&gt;CVE-2024-37303&lt;/a&gt; (moderate): &lt;strong&gt;Unauthenticated writes to the media repository allow planting of problematic content&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See the advisories for more details. If you have any questions, email &lt;a href="mailto:security@element.io"&gt;security at element.io&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Bug fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix release process to not create duplicate releases. (&lt;a href="https://github.com/element-hq/synapse/issues/17970"&gt;#17970&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.120.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.121.0</id>
    <title>New release for Synapse: v1.121.0</title>
    <updated>2024-12-11T10:16:23-05:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.121.0 (2024-12-11)&lt;/h1&gt;
&lt;p&gt;Note that docker images failed to build for this release. See &lt;a href="https://github.com/element-hq/synapse/releases/tag/v1.121.1"&gt;v1.121.1&lt;/a&gt;, which is otherwise functionally identical, but has docker images published.&lt;/p&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix release process to not create duplicate releases. (&lt;a href="https://github.com/element-hq/synapse/issues/18025"&gt;#18025&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.121.0rc1 (2024-12-04)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4190"&gt;MSC4190&lt;/a&gt;: device management for Application Services. (&lt;a href="https://github.com/element-hq/synapse/issues/17705"&gt;#17705&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync to include invite, ban, kick, targets when &lt;code&gt;$LAZY&lt;/code&gt;-loading room members. (&lt;a href="https://github.com/element-hq/synapse/issues/17947"&gt;#17947&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use stable &lt;code&gt;M_USER_LOCKED&lt;/code&gt; error code for locked accounts, as per &lt;a href="https://spec.matrix.org/v1.12/client-server-api/#account-locking"&gt;Matrix 1.12&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17965"&gt;#17965&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4076"&gt;MSC4076&lt;/a&gt;: Add &lt;code&gt;disable_badge_count&lt;/code&gt; to pusher configuration. (&lt;a href="https://github.com/element-hq/synapse/issues/17975"&gt;#17975&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix long-standing bug where read receipts could get overly delayed being sent over federation. (&lt;a href="https://github.com/element-hq/synapse/issues/17933"&gt;#17933&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add OIDC example configuration for Forgejo (fork of Gitea). (&lt;a href="https://github.com/element-hq/synapse/issues/17872"&gt;#17872&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Link to element-docker-demo from contrib/docker*. (&lt;a href="https://github.com/element-hq/synapse/issues/17953"&gt;#17953&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4108"&gt;MSC4108&lt;/a&gt;: Add a &lt;code&gt;Content-Type&lt;/code&gt; header on the &lt;code&gt;PUT&lt;/code&gt; response to work around a faulty behavior in some caching reverse proxies. (&lt;a href="https://github.com/element-hq/synapse/issues/17253"&gt;#17253&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix incorrect comment in new schema delta. (&lt;a href="https://github.com/element-hq/synapse/issues/17936"&gt;#17936&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Raise setuptools_rust version cap to 1.10.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17944"&gt;#17944&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Enable encrypted appservice related experimental features in the complement docker image. (&lt;a href="https://github.com/element-hq/synapse/issues/17945"&gt;#17945&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Return whether the user is suspended when querying the user account in the Admin API. (&lt;a href="https://github.com/element-hq/synapse/issues/17952"&gt;#17952&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix new scheduled tasks jumping the queue. (&lt;a href="https://github.com/element-hq/synapse/issues/17962"&gt;#17962&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyo3 and dependencies to v0.23.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17966"&gt;#17966&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update setuptools-rust and fix building abi3 wheels in latest version. (&lt;a href="https://github.com/element-hq/synapse/issues/17969"&gt;#17969&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Consolidate SSO redirects through &lt;code&gt;/_matrix/client/v3/login/sso/redirect(/{idpId})&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17972"&gt;#17972&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix Docker and Complement config to be able to use &lt;code&gt;public_baseurl&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17986"&gt;#17986&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix building wheels for MacOS which was temporarily disabled in Synapse 1.120.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17993"&gt;#17993&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix release process to not create duplicate releases. (&lt;a href="https://github.com/element-hq/synapse/issues/17970"&gt;#17970&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17995"&gt;#17995&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump bytes from 1.8.0 to 1.9.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17982"&gt;#17982&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pysaml2 from 7.3.1 to 7.5.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17978"&gt;#17978&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.132 to 1.0.133. (&lt;a href="https://github.com/element-hq/synapse/issues/17939"&gt;#17939&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tomli from 2.0.2 to 2.1.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17959"&gt;#17959&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tomli from 2.1.0 to 2.2.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17979"&gt;#17979&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tornado from 6.4.1 to 6.4.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17955"&gt;#17955&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.121.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/element-hq/synapse/releases/tag/v1.121.1</id>
    <title>New release for Synapse: v1.121.1</title>
    <updated>2024-12-11T14:21:43-05:00</updated>
    <author>
      <name>element-hq/synapse</name>
    </author>
    <content>&lt;h1&gt;Synapse 1.121.1 (2024-12-11)&lt;/h1&gt;
&lt;p&gt;This release contains a fix for our docker build CI. It is functionally identical to 1.121.0, whose changelog is below.&lt;/p&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Downgrade the Ubuntu GHA runner when building docker images. (&lt;a href="https://github.com/element-hq/synapse/issues/18026"&gt;#18026&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.121.0 (2024-12-11)&lt;/h1&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix release process to not create duplicate releases. (&lt;a href="https://github.com/element-hq/synapse/issues/18025"&gt;#18025&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Synapse 1.121.0rc1 (2024-12-04)&lt;/h1&gt;
&lt;h3&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Support for &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4190"&gt;MSC4190&lt;/a&gt;: device management for Application Services. (&lt;a href="https://github.com/element-hq/synapse/issues/17705"&gt;#17705&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update &lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4186"&gt;MSC4186&lt;/a&gt; Sliding Sync to include invite, ban, kick, targets when &lt;code&gt;$LAZY&lt;/code&gt;-loading room members. (&lt;a href="https://github.com/element-hq/synapse/issues/17947"&gt;#17947&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use stable &lt;code&gt;M_USER_LOCKED&lt;/code&gt; error code for locked accounts, as per &lt;a href="https://spec.matrix.org/v1.12/client-server-api/#account-locking"&gt;Matrix 1.12&lt;/a&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17965"&gt;#17965&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4076"&gt;MSC4076&lt;/a&gt;: Add &lt;code&gt;disable_badge_count&lt;/code&gt; to pusher configuration. (&lt;a href="https://github.com/element-hq/synapse/issues/17975"&gt;#17975&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bugfixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix long-standing bug where read receipts could get overly delayed being sent over federation. (&lt;a href="https://github.com/element-hq/synapse/issues/17933"&gt;#17933&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved Documentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add OIDC example configuration for Forgejo (fork of Gitea). (&lt;a href="https://github.com/element-hq/synapse/issues/17872"&gt;#17872&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Link to element-docker-demo from contrib/docker*. (&lt;a href="https://github.com/element-hq/synapse/issues/17953"&gt;#17953&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internal Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4108"&gt;MSC4108&lt;/a&gt;: Add a &lt;code&gt;Content-Type&lt;/code&gt; header on the &lt;code&gt;PUT&lt;/code&gt; response to work around a faulty behavior in some caching reverse proxies. (&lt;a href="https://github.com/element-hq/synapse/issues/17253"&gt;#17253&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix incorrect comment in new schema delta. (&lt;a href="https://github.com/element-hq/synapse/issues/17936"&gt;#17936&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Raise setuptools_rust version cap to 1.10.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17944"&gt;#17944&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Enable encrypted appservice related experimental features in the complement docker image. (&lt;a href="https://github.com/element-hq/synapse/issues/17945"&gt;#17945&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Return whether the user is suspended when querying the user account in the Admin API. (&lt;a href="https://github.com/element-hq/synapse/issues/17952"&gt;#17952&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix new scheduled tasks jumping the queue. (&lt;a href="https://github.com/element-hq/synapse/issues/17962"&gt;#17962&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pyo3 and dependencies to v0.23.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17966"&gt;#17966&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update setuptools-rust and fix building abi3 wheels in latest version. (&lt;a href="https://github.com/element-hq/synapse/issues/17969"&gt;#17969&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Consolidate SSO redirects through &lt;code&gt;/_matrix/client/v3/login/sso/redirect(/{idpId})&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17972"&gt;#17972&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix Docker and Complement config to be able to use &lt;code&gt;public_baseurl&lt;/code&gt;. (&lt;a href="https://github.com/element-hq/synapse/issues/17986"&gt;#17986&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix building wheels for MacOS which was temporarily disabled in Synapse 1.120.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17993"&gt;#17993&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix release process to not create duplicate releases. (&lt;a href="https://github.com/element-hq/synapse/issues/17970"&gt;#17970&lt;/a&gt;, &lt;a href="https://github.com/element-hq/synapse/issues/17995"&gt;#17995&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Updates to locked dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bump bytes from 1.8.0 to 1.9.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17982"&gt;#17982&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump pysaml2 from 7.3.1 to 7.5.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17978"&gt;#17978&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump serde_json from 1.0.132 to 1.0.133. (&lt;a href="https://github.com/element-hq/synapse/issues/17939"&gt;#17939&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tomli from 2.0.2 to 2.1.0. (&lt;a href="https://github.com/element-hq/synapse/issues/17959"&gt;#17959&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tomli from 2.1.0 to 2.2.1. (&lt;a href="https://github.com/element-hq/synapse/issues/17979"&gt;#17979&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Bump tornado from 6.4.1 to 6.4.2. (&lt;a href="https://github.com/element-hq/synapse/issues/17955"&gt;#17955&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/element-hq/synapse/releases/tag/v1.121.1" rel="alternate"/>
  </entry>
</feed>
